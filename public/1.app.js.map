{"version":3,"sources":["webpack:///./app.js","webpack:///./requests.js","webpack:///./src/ItemTypes.js","webpack:///./src/UUID.js","webpack:///./src/dynamic-option-list.jsx","webpack:///./src/form-elements-edit.jsx","webpack:///./src/form-place-holder.jsx","webpack:///./src/index.jsx","webpack:///./src/preview.jsx","webpack:///./src/sortable-element.jsx","webpack:///./src/sortable-form-elements.jsx","webpack:///./src/toolbar-draggable-item.jsx","webpack:///./src/toolbar.jsx"],"names":["getUrl","cid","require","url","saveUrl","App","props","formId","console","log","get","data","post","state","handleChange","bind","event","target","value","ElementStore","dispatch","loadUrl","setState","onLoad","onPost","React","Component","headers","Accept","OPTIONS","fetch","method","body","JSON","stringify","then","response","json","CARD","CHARS","split","ID","uuid","len","radix","chars","i","length","Math","random","r","join","uuidFast","Array","rnd","uuidCompact","replace","c","v","toString","module","exports","DynamicOptionList","element","dirty","text","toLowerCase","option_index","e","this_element","val","options","_setValue","hasOwnProperty","correct","updateElement","call","preview","index","splice","key","canHaveOptionValue","canHaveOptionCorrect","map","option","this_key","width","updateOption","editOption","editValue","editOptionCorrect","addOption","removeOption","toolbar","inline","inDropdown","className","undefined","FormElementsEdit","elemProperty","targProperty","property","editorContent","html","draftToHtml","convertToRaw","getCurrentContent","content","newContent","convertFromHTML","contentBlocks","EditorState","createEmpty","contentState","ContentState","createFromBlockArray","createWithContent","optionsApiUrl","document","getElementById","forEach","x","push","window","elm_props","this_checked","required","this_read_only","readOnly","this_default_today","defaultToday","this_show_time_select","showTimeSelect","this_show_time_select_only","showTimeSelectOnly","this_checked_inline","this_checked_bold","bold","this_checked_italic","italic","this_checked_center","center","this_checked_page_break","pageBreakBefore","this_checked_alternate_form","alternateForm","canHavePageBreakBefore","canHaveAlternateForm","canHaveDisplayHorizontal","this_files","files","id","unshift","file_name","editorState","label","manualEditModeOff","onEditorStateChange","file_path","editElementProp","file","href","src","height","variableKey","step","min_value","min_label","max_value","max_label","default_value","showDescription","description","showCorrectColumn","canHaveAnswer","canPopulateFromApi","addOptions","defaultProps","PLACE_HOLDER","PlaceHolder","show","propTypes","PropTypes","string","bool","ReactFormBuilder","editMode","editElement","preventDefault","stopPropagation","toolbarProps","show_description","toolbarItems","items","HTML5Backend","editModeOn","variables","FormBuilders","ReactFormGenerator","store","SortableFormElements","Preview","editForm","current","contains","setExternalHandler","createRef","answer_data","seq","onUpdate","_onChange","subscribe","moveCard","insertCard","addEventListener","editModeOff","removeEventListener","found","item","field_name","hoverIndex","saveData","dragIndex","dragCard","newData","update","$splice","SortableFormElement","parent","_onDestroy","classes","filter","getElement","cardPlaceHolder","style","border","padding","marginBottom","backgroundColor","cursor","cardSource","beginDrag","cardTarget","hover","monitor","component","getItem","onCreate","hoverBoundingRect","findDOMNode","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","y","ComposedComponent","Card","isDragging","connectDragSource","connectDropTarget","opacity","func","number","isRequired","any","DropTarget","ItemTypes","connect","dropTarget","DragSource","dragSource","Header","BaseFormElements","Paragraph","Label","LineBreak","TextInput","NumberInput","TextArea","Dropdown","Checkboxes","DatePicker","RadioButtons","Image","Rating","Tags","Signature","HyperLink","Download","Camera","Range","FormElements","SortableElement","ToolbarItem","onClick","icon","name","Toolbar","_defaultItems","create","canDefaultToday","canReadOnly","dateFormat","timeFormat","_href","elementOptions","defaultValue","_defaultItemOptions","_onClick"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,MAAM,GAAG,SAATA,MAAS,CAACC,GAAD;AAAA,6EAAsEA,GAAtE;AAAA,CAAf;;AACAC,mBAAO,CAAC,wDAAD,CAAP;;AAEA,IAAMC,GAAG,GAAG,eAAZ;AACA,IAAMC,OAAO,GAAG,eAAhB;;IAEMC,G;;;;;AACJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB;;AAAA,6DAiBV,YAAM;AACb,UAAMH,GAAG,GAAGH,MAAM,CAAC,MAAKO,MAAN,CAAlB;AACAC,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBN,GAAtB;AACA,aAAOO,qDAAG,CAACP,GAAD,CAAV;AACD,KArBkB;;AAAA,6DAuBV,UAACQ,IAAD,EAAU;AACjB,UAAMP,OAAO,GAAGJ,MAAM,CAAC,MAAKO,MAAN,CAAtB;AACAC,aAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,OAAtB,EAA+BO,IAA/B;AACAC,4DAAI,CAACR,OAAD,EAAUO,IAAV,CAAJ;AACD,KA3BkB;;AAEjB,UAAKE,KAAL,GAAa;AAAEN,YAAM,EAAE;AAAV,KAAb;AACA,UAAKA,MAAL,GAAc,MAAKM,KAAL,CAAWN,MAAzB;AACA,UAAKO,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AAJiB;AAKlB;;;;iCAIYC,K,EAAO;AAClB,WAAKT,MAAL,GAAcS,KAAK,CAACC,MAAN,CAAaC,KAA3B;AACA,UAAMf,GAAG,GAAGH,MAAM,CAAC,KAAKO,MAAN,CAAlB;AACAC,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BN,GAA5B;AACAgB,6DAAY,CAACC,QAAb,CAAsB,MAAtB,EAA8B;AAAEC,eAAO,EAAElB;AAAX,OAA9B;AACA,WAAKmB,QAAL,CAAc;AAAEf,cAAM,EAAE,KAAKA;AAAf,OAAd;AACD;;;6BAcQ;AACP,0BACE;AAAK,iBAAS,EAAC;AAAf,sBACE,8FADF,eAIE;AAAQ,iBAAS,EAAC,cAAlB;AACI,aAAK,EAAE,KAAKM,KAAL,CAAWN,MADtB;AAEI,gBAAQ,EAAE,KAAKO;AAFnB,sBAGE;AAAQ,aAAK,EAAC;AAAd,kBAHF,eAIE;AAAQ,aAAK,EAAC;AAAd,kBAJF,CAJF,eAUE,sEAVF,eAWE,2DAAC,2DAAD;AACE,cAAM,EAAE,KAAKS,MADf;AAEE,cAAM,EAAE,KAAKC;AAFf,QAXF,MADF;AAkBD;;;;EAjDeC,4CAAK,CAACC,S;;AAoDTrB,kEAAf,E;;;;;;;;;;;;AChEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,IAAMsB,OAAO,GAAG;AACdC,QAAM,EAAE,kBADM;AAEd,kBAAgB,iCAFF;AAGdC,SAAO,EAAE;AAHK,CAAhB;AAMO,SAASjB,IAAT,CAAcT,GAAd,EAAmBQ,IAAnB,EAAyB;AAC9B,SAAOmB,uDAAK,CAAC3B,GAAD,EAAM;AAChB4B,UAAM,EAAE,MADQ;AAEhBJ,WAAO,EAAPA,OAFgB;AAGhBK,QAAI,EAAEC,IAAI,CAACC,SAAL,CAAevB,IAAf;AAHU,GAAN,CAAL,CAIJwB,IAJI,CAIC,UAAAC,QAAQ;AAAA,WAAIA,QAAJ;AAAA,GAJT,CAAP;AAKD;AAEM,SAAS1B,GAAT,CAAaP,GAAb,EAAkB;AACvB,SAAO2B,uDAAK,CAAC3B,GAAD,EAAM;AAChB4B,UAAM,EAAE,KADQ;AAEhBJ,WAAO,EAAPA;AAFgB,GAAN,CAAL,CAGJQ,IAHI,CAGC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAHT,CAAP;AAID,C;;;;;;;;;;;;ACrBD;AAAe;AAAEC,MAAI,EAAE;AAAR,CAAf,E;;;;;;;;;;;ACAA;AACA;AACA,IAAIC,KAAK,GAAG,iEAAiEC,KAAjE,CAAuE,EAAvE,CAAZ;AACA,IAAIC,EAAE,GAAG,EAAT;;AACAA,EAAE,CAACC,IAAH,GAAU,UAAUC,GAAV,EAAeC,KAAf,EAAsB;AAC9B,MAAIC,KAAK,GAAGN,KAAZ;AAAA,MAAmBG,IAAI,GAAG,EAA1B;AAAA,MAA8BI,CAA9B;AACAF,OAAK,GAAGA,KAAK,IAAIC,KAAK,CAACE,MAAvB;;AAEA,MAAIJ,GAAJ,EAAS;AACP;AACA,SAAKG,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGH,GAAhB,EAAqBG,CAAC,EAAtB;AAA0BJ,UAAI,CAACI,CAAD,CAAJ,GAAUD,KAAK,CAAC,IAAIG,IAAI,CAACC,MAAL,KAAcL,KAAnB,CAAf;AAA1B;AACD,GAHD,MAGO;AACL;AACA,QAAIM,CAAJ,CAFK,CAIL;;AACAR,QAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,EAAD,CAAJ,GAAWA,IAAI,CAAC,EAAD,CAAJ,GAAWA,IAAI,CAAC,EAAD,CAAJ,GAAW,GAA3C;AACAA,QAAI,CAAC,EAAD,CAAJ,GAAW,GAAX,CANK,CAQL;AACA;;AACA,SAAKI,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,EAAhB,EAAoBA,CAAC,EAArB,EAAyB;AACvB,UAAI,CAACJ,IAAI,CAACI,CAAD,CAAT,EAAc;AACZI,SAAC,GAAG,IAAIF,IAAI,CAACC,MAAL,KAAc,EAAtB;AACAP,YAAI,CAACI,CAAD,CAAJ,GAAUD,KAAK,CAAEC,CAAC,IAAI,EAAN,GAAaI,CAAC,GAAG,GAAL,GAAY,GAAxB,GAA8BA,CAA/B,CAAf;AACD;AACF;AACF;;AAED,SAAOR,IAAI,CAACS,IAAL,CAAU,EAAV,CAAP;AACD,CA1BD,C,CA4BA;AACA;;;AACAV,EAAE,CAACW,QAAH,GAAc,YAAW;AACvB,MAAIP,KAAK,GAAGN,KAAZ;AAAA,MAAmBG,IAAI,GAAG,IAAIW,KAAJ,CAAU,EAAV,CAA1B;AAAA,MAAyCC,GAAG,GAAC,CAA7C;AAAA,MAAgDJ,CAAhD;;AACA,OAAK,IAAIJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AAC3B,QAAIA,CAAC,IAAE,CAAH,IAAQA,CAAC,IAAE,EAAX,IAAkBA,CAAC,IAAE,EAArB,IAA2BA,CAAC,IAAE,EAAlC,EAAsC;AACpCJ,UAAI,CAACI,CAAD,CAAJ,GAAU,GAAV;AACD,KAFD,MAEO,IAAIA,CAAC,IAAE,EAAP,EAAW;AAChBJ,UAAI,CAACI,CAAD,CAAJ,GAAU,GAAV;AACD,KAFM,MAEA;AACL,UAAIQ,GAAG,IAAI,IAAX,EAAiBA,GAAG,GAAG,YAAaN,IAAI,CAACC,MAAL,KAAc,SAA3B,GAAsC,CAA5C;AACjBC,OAAC,GAAGI,GAAG,GAAG,GAAV;AACAA,SAAG,GAAGA,GAAG,IAAI,CAAb;AACAZ,UAAI,CAACI,CAAD,CAAJ,GAAUD,KAAK,CAAEC,CAAC,IAAI,EAAN,GAAaI,CAAC,GAAG,GAAL,GAAY,GAAxB,GAA8BA,CAA/B,CAAf;AACD;AACF;;AACD,SAAOR,IAAI,CAACS,IAAL,CAAU,EAAV,CAAP;AACD,CAfD,C,CAiBA;;;AACAV,EAAE,CAACc,WAAH,GAAiB,YAAW;AAC1B,SAAO,uCAAuCC,OAAvC,CAA+C,OAA/C,EAAwD,UAASC,CAAT,EAAY;AACzE,QAAIP,CAAC,GAAGF,IAAI,CAACC,MAAL,KAAc,EAAd,GAAiB,CAAzB;AAAA,QAA4BS,CAAC,GAAGD,CAAC,IAAI,GAAL,GAAWP,CAAX,GAAgBA,CAAC,GAAC,GAAF,GAAM,GAAtD;AACA,WAAOQ,CAAC,CAACC,QAAF,CAAW,EAAX,CAAP;AACD,GAHM,CAAP;AAID,CALD;;AAMAC,MAAM,CAACC,OAAP,GAAiBpB,EAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DA;AACA;AACA;AAEA;AACA;;IAEqBqB,iB;;;;;AACnB,6BAAYxD,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKO,KAAL,GAAa;AACXkD,aAAO,EAAE,MAAKzD,KAAL,CAAWyD,OADT;AAEXpD,UAAI,EAAE,MAAKL,KAAL,CAAWK,IAFN;AAGXqD,WAAK,EAAE;AAHI,KAAb;AAFiB;AAOlB;;;;8BAESC,I,EAAM;AACd,aAAOA,IAAI,CAACT,OAAL,CAAa,cAAb,EAA6B,GAA7B,EAAkCU,WAAlC,EAAP;AACD;;;+BAEUC,Y,EAAcC,C,EAAG;AAC1B,UAAMC,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;AACA,UAAMO,GAAG,GAAID,YAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCjD,KAAnC,KAA6C,KAAKsD,SAAL,CAAeH,YAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCF,IAAlD,CAA9C,GAAyGI,YAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCjD,KAA5I,GAAoJ,KAAKsD,SAAL,CAAeJ,CAAC,CAACnD,MAAF,CAASC,KAAxB,CAAhK;AAEAmD,kBAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCF,IAAnC,GAA0CG,CAAC,CAACnD,MAAF,CAASC,KAAnD;AACAmD,kBAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCjD,KAAnC,GAA2CoD,GAA3C;AACA,WAAKhD,QAAL,CAAc;AACZyC,eAAO,EAAEM,YADG;AAEZL,aAAK,EAAE;AAFK,OAAd;AAID;;;8BAESG,Y,EAAcC,C,EAAG;AACzB,UAAMC,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;AACA,UAAMO,GAAG,GAAIF,CAAC,CAACnD,MAAF,CAASC,KAAT,KAAmB,EAApB,GAA0B,KAAKsD,SAAL,CAAeH,YAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCF,IAAlD,CAA1B,GAAoFG,CAAC,CAACnD,MAAF,CAASC,KAAzG;AACAmD,kBAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCjD,KAAnC,GAA2CoD,GAA3C;AACA,WAAKhD,QAAL,CAAc;AACZyC,eAAO,EAAEM,YADG;AAEZL,aAAK,EAAE;AAFK,OAAd;AAID,K,CAED;;;;sCACkBG,Y,EAAcC,C,EAAG;AACjC,UAAMC,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;;AACA,UAAIM,YAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCM,cAAnC,CAAkD,SAAlD,CAAJ,EAAkE;AAChE,eAAQJ,YAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCO,OAA3C;AACD,OAFD,MAEO;AACLL,oBAAY,CAACE,OAAb,CAAqBJ,YAArB,EAAmCO,OAAnC,GAA6C,IAA7C;AACD;;AACD,WAAKpD,QAAL,CAAc;AAAEyC,eAAO,EAAEM;AAAX,OAAd;AACA,WAAK/D,KAAL,CAAWqE,aAAX,CAAyBC,IAAzB,CAA8B,KAAKtE,KAAL,CAAWuE,OAAzC,EAAkDR,YAAlD;AACD;;;mCAEc;AACb,UAAMA,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC,CADa,CAEb;;AACA,UAAI,KAAKlD,KAAL,CAAWmD,KAAf,EAAsB;AACpB,aAAK1D,KAAL,CAAWqE,aAAX,CAAyBC,IAAzB,CAA8B,KAAKtE,KAAL,CAAWuE,OAAzC,EAAkDR,YAAlD;AACA,aAAK/C,QAAL,CAAc;AAAE0C,eAAK,EAAE;AAAT,SAAd;AACD;AACF;;;8BAESc,K,EAAO;AACf,UAAMT,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;AACAM,kBAAY,CAACE,OAAb,CAAqBQ,MAArB,CAA4BD,KAAK,GAAG,CAApC,EAAuC,CAAvC,EAA0C;AAAE5D,aAAK,EAAE,EAAT;AAAa+C,YAAI,EAAE,EAAnB;AAAuBe,WAAG,EAAEvC,4CAAE,CAACC,IAAH;AAA5B,OAA1C;AACA,WAAKpC,KAAL,CAAWqE,aAAX,CAAyBC,IAAzB,CAA8B,KAAKtE,KAAL,CAAWuE,OAAzC,EAAkDR,YAAlD;AACD;;;iCAEYS,K,EAAO;AAClB,UAAMT,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;AACAM,kBAAY,CAACE,OAAb,CAAqBQ,MAArB,CAA4BD,KAA5B,EAAmC,CAAnC;AACA,WAAKxE,KAAL,CAAWqE,aAAX,CAAyBC,IAAzB,CAA8B,KAAKtE,KAAL,CAAWuE,OAAzC,EAAkDR,YAAlD;AACD;;;6BAEQ;AAAA;;AACP,UAAI,KAAKxD,KAAL,CAAWmD,KAAf,EAAsB;AACpB,aAAKnD,KAAL,CAAWkD,OAAX,CAAmBC,KAAnB,GAA2B,IAA3B;AACD;;AACD,0BACE;AAAK,iBAAS,EAAC;AAAf,sBACE,oFACE,oFACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBAA0B,gFAA1B,CADF,EAEI,KAAK1D,KAAL,CAAW2E,kBAAX,iBACF;AAAK,iBAAS,EAAC;AAAf,sBAA0B,8EAA1B,CAHF,EAII,KAAK3E,KAAL,CAAW2E,kBAAX,IAAiC,KAAK3E,KAAL,CAAW4E,oBAA5C,iBACF;AAAK,iBAAS,EAAC;AAAf,sBAA0B,gFAA1B,CALF,CADF,CADF,EAWI,KAAK5E,KAAL,CAAWyD,OAAX,CAAmBQ,OAAnB,CAA2BY,GAA3B,CAA+B,UAACC,MAAD,EAASN,KAAT,EAAmB;AAChD,YAAMO,QAAQ,kBAAWD,MAAM,CAACJ,GAAlB,CAAd;AACA,YAAMV,GAAG,GAAIc,MAAM,CAAClE,KAAP,KAAiB,MAAI,CAACsD,SAAL,CAAeY,MAAM,CAACnB,IAAtB,CAAlB,GAAiDmB,MAAM,CAAClE,KAAxD,GAAgE,EAA5E;AACA,4BACE;AAAI,mBAAS,EAAC,UAAd;AAAyB,aAAG,EAAEmE;AAA9B,wBACE;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAO,kBAAQ,EAAEP,KAAK,GAAG,CAAzB;AAA4B,mBAAS,EAAC,cAAtC;AAAqD,eAAK,EAAE;AAAEQ,iBAAK,EAAE;AAAT,WAA5D;AAA+E,cAAI,EAAC,MAApF;AAA2F,cAAI,iBAAUR,KAAV,CAA/F;AAAkH,qBAAW,EAAC,aAA9H;AAA4I,eAAK,EAAEM,MAAM,CAACnB,IAA1J;AAAgK,gBAAM,EAAE,MAAI,CAACsB,YAAL,CAAkBxE,IAAlB,CAAuB,MAAvB,CAAxK;AAAsM,kBAAQ,EAAE,MAAI,CAACyE,UAAL,CAAgBzE,IAAhB,CAAqB,MAArB,EAA2B+D,KAA3B;AAAhN,UADF,CADF,EAII,MAAI,CAACxE,KAAL,CAAW2E,kBAAX,iBACF;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAO,mBAAS,EAAC,cAAjB;AAAgC,cAAI,EAAC,MAArC;AAA4C,cAAI,kBAAWH,KAAX,CAAhD;AAAoE,eAAK,EAAER,GAA3E;AAAgF,kBAAQ,EAAE,MAAI,CAACmB,SAAL,CAAe1E,IAAf,CAAoB,MAApB,EAA0B+D,KAA1B;AAA1F,UADF,CALF,EAQI,MAAI,CAACxE,KAAL,CAAW2E,kBAAX,IAAiC,MAAI,CAAC3E,KAAL,CAAW4E,oBAA5C,iBACF;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAO,mBAAS,EAAC,cAAjB;AAAgC,cAAI,EAAC,UAArC;AAAgD,eAAK,EAAC,GAAtD;AAA0D,kBAAQ,EAAE,MAAI,CAACQ,iBAAL,CAAuB3E,IAAvB,CAA4B,MAA5B,EAAkC+D,KAAlC,CAApE;AAA8G,iBAAO,EAAEM,MAAM,CAACX,cAAP,CAAsB,SAAtB;AAAvH,UADF,CATF,eAYE;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAK,mBAAS,EAAC;AAAf,wBACE;AAAQ,iBAAO,EAAE,MAAI,CAACkB,SAAL,CAAe5E,IAAf,CAAoB,MAApB,EAA0B+D,KAA1B,CAAjB;AAAmD,mBAAS,EAAC;AAA7D,wBAA+E;AAAG,mBAAS,EAAC;AAAb,UAA/E,CADF,EAEIA,KAAK,GAAG,CAAR,iBACG;AAAQ,iBAAO,EAAE,MAAI,CAACc,YAAL,CAAkB7E,IAAlB,CAAuB,MAAvB,EAA6B+D,KAA7B,CAAjB;AAAsD,mBAAS,EAAC;AAAhE,wBAAiF;AAAG,mBAAS,EAAC;AAAb,UAAjF,CAHP,CADF,CAZF,CADF,CADF;AAyBD,OA5BD,CAXJ,CADF,CADF;AA8CD;;;;EAvH4CrD,4CAAK,CAACC,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPrD;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAEA,IAAMmE,OAAO,GAAG;AACdtB,SAAO,EAAE,CAAC,QAAD,EAAW,MAAX,EAAmB,WAAnB,EAAgC,UAAhC,EAA4C,MAA5C,EAAoD,SAApD,CADK;AAEduB,QAAM,EAAE;AACNC,cAAU,EAAE,KADN;AAENC,aAAS,EAAEC,SAFL;AAGN1B,WAAO,EAAE,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC,aAAhC,EAA+C,WAA/C;AAHH;AAFM,CAAhB;;IASqB2B,gB;;;;;AACnB,4BAAY5F,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKO,KAAL,GAAa;AACXkD,aAAO,EAAE,MAAKzD,KAAL,CAAWyD,OADT;AAEXpD,UAAI,EAAE,MAAKL,KAAL,CAAWK,IAFN;AAGXqD,WAAK,EAAE;AAHI,KAAb;AAFiB;AAOlB;;;;qCAEgB,CACf;AACD;;;oCAEemC,Y,EAAcC,Y,EAAchC,C,EAAG;AAAA;;AAC7C;AACA;AACA,UAAMC,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;AACAM,kBAAY,CAAC8B,YAAD,CAAZ,GAA6B/B,CAAC,CAACnD,MAAF,CAASmF,YAAT,CAA7B;AAEA,WAAK9E,QAAL,CAAc;AACZyC,eAAO,EAAEM,YADG;AAEZL,aAAK,EAAE;AAFK,OAAd,EAGG,YAAM;AACP,YAAIoC,YAAY,KAAK,SAArB,EAAgC;AAAE,gBAAI,CAACzB,aAAL;AAAuB;AAC1D,OALD;AAMD;;;wCAEmBG,K,EAAOuB,Q,EAAUC,a,EAAe;AAClD;AACA,UAAMC,IAAI,GAAGC,sDAAW,CAACC,6DAAY,CAACH,aAAa,CAACI,iBAAd,EAAD,CAAb,CAAX,CAA6DlD,OAA7D,CAAqE,MAArE,EAA6E,EAA7E,EAAiFA,OAAjF,CAAyF,QAAzF,EAAmG,EAAnG,EAAuGA,OAAvG,CAA+G,iBAA/G,EAAkI,GAAlI,CAAb;AACA,UAAMa,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC;AACAM,kBAAY,CAACgC,QAAD,CAAZ,GAAyBE,IAAzB;AAEA,WAAKjF,QAAL,CAAc;AACZyC,eAAO,EAAEM,YADG;AAEZL,aAAK,EAAE;AAFK,OAAd;AAID;;;oCAEe;AACd,UAAMK,YAAY,GAAG,KAAKxD,KAAL,CAAWkD,OAAhC,CADc,CAEd;;AACA,UAAI,KAAKlD,KAAL,CAAWmD,KAAf,EAAsB;AACpB,aAAK1D,KAAL,CAAWqE,aAAX,CAAyBC,IAAzB,CAA8B,KAAKtE,KAAL,CAAWuE,OAAzC,EAAkDR,YAAlD;AACA,aAAK/C,QAAL,CAAc;AAAE0C,eAAK,EAAE;AAAT,SAAd;AACD;AACF;;;oCAEe2C,O,EAAS;AACvB,UAAMC,UAAU,GAAGC,gEAAe,CAACF,OAAD,CAAlC;;AACA,UAAI,CAACC,UAAU,CAACE,aAAZ,IAA6B,CAACF,UAAU,CAACE,aAAX,CAAyB/D,MAA3D,EAAmE;AACjE;AACA,eAAOgE,oDAAW,CAACC,WAAZ,EAAP;AACD;;AACD,UAAMC,YAAY,GAAGC,qDAAY,CAACC,oBAAb,CAAkCP,UAAlC,CAArB;AACA,aAAOG,oDAAW,CAACK,iBAAZ,CAA8BH,YAA9B,CAAP;AACD;;;iCAEY;AAAA;;AACX,UAAMI,aAAa,GAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCrG,KAA/D;;AACA,UAAImG,aAAJ,EAAmB;AACjB3G,oEAAG,CAAC2G,aAAD,CAAH,CAAmBlF,IAAnB,CAAwB,UAAAxB,IAAI,EAAI;AAC9B,gBAAI,CAACL,KAAL,CAAWyD,OAAX,CAAmBQ,OAAnB,GAA6B,EAA7B;AAD8B,cAEtBA,OAFsB,GAEV,MAAI,CAACjE,KAAL,CAAWyD,OAFD,CAEtBQ,OAFsB;AAG9B5D,cAAI,CAAC6G,OAAL,CAAa,UAAAC,CAAC,EAAI;AAChB;AACAA,aAAC,CAACzC,GAAF,GAAQvC,4CAAE,CAACC,IAAH,EAAR;AACA6B,mBAAO,CAACmD,IAAR,CAAaD,CAAb;AACD,WAJD;AAKA,cAAMpD,YAAY,GAAG,MAAI,CAACxD,KAAL,CAAWkD,OAAhC;;AACA,gBAAI,CAACzC,QAAL,CAAc;AACZyC,mBAAO,EAAEM,YADG;AAEZL,iBAAK,EAAE;AAFK,WAAd;AAID,SAbD;AAcD;AACF;;;6BAEQ;AACP,UAAI,KAAKnD,KAAL,CAAWmD,KAAf,EAAsB;AACpB,aAAK1D,KAAL,CAAWyD,OAAX,CAAmBC,KAAnB,GAA2B,IAA3B;AACD;;AACD2D,YAAM,CAACC,SAAP,GAAmB,KAAKtH,KAAxB;AACA,UAAMuH,YAAY,GAAG,KAAKvH,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,UAAlC,IAAgD,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB+D,QAAnE,GAA8E,KAAnG;AACA,UAAMC,cAAc,GAAG,KAAKzH,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,UAAlC,IAAgD,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBiE,QAAnE,GAA8E,KAArG;AACA,UAAMC,kBAAkB,GAAG,KAAK3H,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,cAAlC,IAAoD,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBmE,YAAvE,GAAsF,KAAjH;AACA,UAAMC,qBAAqB,GAAG,KAAK7H,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,gBAAlC,IAAsD,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBqE,cAAzE,GAA0F,KAAxH;AACA,UAAMC,0BAA0B,GAAG,KAAK/H,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,oBAAlC,IAA0D,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBuE,kBAA7E,GAAkG,KAArI;AACA,UAAMC,mBAAmB,GAAG,KAAKjI,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,QAAlC,IAA8C,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB+B,MAAjE,GAA0E,KAAtG;AACA,UAAM0C,iBAAiB,GAAG,KAAKlI,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,MAAlC,IAA4C,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB0E,IAA/D,GAAsE,KAAhG;AACA,UAAMC,mBAAmB,GAAG,KAAKpI,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,QAAlC,IAA8C,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB4E,MAAjE,GAA0E,KAAtG;AACA,UAAMC,mBAAmB,GAAG,KAAKtI,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,QAAlC,IAA8C,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB8E,MAAjE,GAA0E,KAAtG;AACA,UAAMC,uBAAuB,GAAG,KAAKxI,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,iBAAlC,IAAuD,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBgF,eAA1E,GAA4F,KAA5H;AACA,UAAMC,2BAA2B,GAAG,KAAK1I,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,eAAlC,IAAqD,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBkF,aAAxE,GAAwF,KAA5H;AAfO,gCAmBH,KAAK3I,KAAL,CAAWyD,OAnBR;AAAA,UAkBLmF,sBAlBK,uBAkBLA,sBAlBK;AAAA,UAkBmBC,oBAlBnB,uBAkBmBA,oBAlBnB;AAAA,UAkByCC,wBAlBzC,uBAkByCA,wBAlBzC;AAAA,UAkBmElE,oBAlBnE,uBAkBmEA,oBAlBnE;AAAA,UAkByFD,kBAlBzF,uBAkByFA,kBAlBzF;AAqBP,UAAMoE,UAAU,GAAG,KAAK/I,KAAL,CAAWgJ,KAAX,CAAiBvG,MAAjB,GAA0B,KAAKzC,KAAL,CAAWgJ,KAArC,GAA6C,EAAhE;;AACA,UAAID,UAAU,CAACtG,MAAX,GAAoB,CAApB,IAA0BsG,UAAU,CAACtG,MAAX,GAAoB,CAApB,IAAyBsG,UAAU,CAAC,CAAD,CAAV,CAAcE,EAAd,KAAqB,EAA5E,EAAiF;AAC/EF,kBAAU,CAACG,OAAX,CAAmB;AAAED,YAAE,EAAE,EAAN;AAAUE,mBAAS,EAAE;AAArB,SAAnB;AACD;;AAED,UAAIC,WAAJ;;AACA,UAAI,KAAKpJ,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,SAAlC,CAAJ,EAAkD;AAChDiF,mBAAW,GAAG,KAAK7C,eAAL,CAAqB,KAAKvG,KAAL,CAAWyD,OAAX,CAAmB4C,OAAxC,CAAd;AACD;;AACD,UAAI,KAAKrG,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,OAAlC,CAAJ,EAAgD;AAC9CiF,mBAAW,GAAG,KAAK7C,eAAL,CAAqB,KAAKvG,KAAL,CAAWyD,OAAX,CAAmB4F,KAAxC,CAAd;AACD;;AAED,0BACE,qFACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAI,iBAAS,EAAC;AAAd,SAA4B,KAAKrJ,KAAL,CAAWyD,OAAX,CAAmBE,IAA/C,CADF,eAEE;AAAG,iBAAS,EAAC,uCAAb;AAAqD,eAAO,EAAE,KAAK3D,KAAL,CAAWsJ;AAAzE,QAFF,CADF,EAKI,KAAKtJ,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,SAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC;AAAjB,4BADF,eAGE,2DAAC,0DAAD;AACE,eAAO,EAAEoB,OADX;AAEE,0BAAkB,EAAE6D,WAFtB;AAGE,cAAM,EAAE,KAAK/E,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAHV;AAIE,2BAAmB,EAAE,KAAK8I,mBAAL,CAAyB9I,IAAzB,CAA8B,IAA9B,EAAoC,CAApC,EAAuC,SAAvC,CAJvB;AAKE,yBAAiB,EAAE;AALrB,QAHF,CANJ,EAiBI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,WAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,wBADF,eAEE;AAAQ,UAAE,EAAC,YAAX;AAAwB,iBAAS,EAAC,cAAlC;AAAiD,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB+F,SAAlF;AAA6F,cAAM,EAAE,KAAKnF,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAArG;AAAoI,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,WAAhC,EAA6C,OAA7C;AAA9I,SACGsI,UAAU,CAAClE,GAAX,CAAe,UAAC6E,IAAD,EAAU;AACxB,YAAM3E,QAAQ,kBAAW2E,IAAI,CAACT,EAAhB,CAAd;AACA,4BAAO;AAAQ,eAAK,EAAES,IAAI,CAACT,EAApB;AAAwB,aAAG,EAAElE;AAA7B,WAAwC2E,IAAI,CAACP,SAA7C,CAAP;AACD,OAHA,CADH,CAFF,CAlBJ,EA4BI,KAAKnJ,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,MAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE,2DAAC,+DAAD;AAAkB,YAAI,EAAC,MAAvB;AAA8B,iBAAS,EAAC,cAAxC;AAAuD,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBkG,IAAxF;AAA8F,cAAM,EAAE,KAAKtF,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAtG;AAAqI,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,MAAhC,EAAwC,OAAxC;AAA/I,QADF,CA7BJ,EAiCI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,KAAlC,kBACA,qFACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,oBADF,eAEE;AAAO,UAAE,EAAC,UAAV;AAAqB,YAAI,EAAC,MAA1B;AAAiC,iBAAS,EAAC,cAA3C;AAA0D,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBmG,GAA3F;AAAgG,cAAM,EAAE,KAAKvF,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAxG;AAAuI,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,KAAhC,EAAuC,OAAvC;AAAjJ,QAFF,CADF,eAKE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,WAAV;AAAsB,iBAAS,EAAC,sBAAhC;AAAuD,YAAI,EAAC,UAA5D;AAAuE,eAAO,EAAE6H,mBAAhF;AAAqG,aAAK,EAAE,IAA5G;AAAkH,gBAAQ,EAAE,KAAKmB,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,QAAhC,EAA0C,SAA1C;AAA5H,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,mBAFF,CADF,CALF,eAaE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,kBADF,eAEE;AAAO,UAAE,EAAC,cAAV;AAAyB,YAAI,EAAC,MAA9B;AAAqC,iBAAS,EAAC,cAA/C;AAA8D,oBAAY,EAAE,KAAKT,KAAL,CAAWyD,OAAX,CAAmBuB,KAA/F;AAAsG,cAAM,EAAE,KAAKX,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAA9G;AAA6I,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,OAAhC,EAAyC,OAAzC;AAAvJ,QAFF,CADF,eAKE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,mBADF,eAEE;AAAO,UAAE,EAAC,eAAV;AAA0B,YAAI,EAAC,MAA/B;AAAsC,iBAAS,EAAC,cAAhD;AAA+D,oBAAY,EAAE,KAAKT,KAAL,CAAWyD,OAAX,CAAmBoG,MAAhG;AAAwG,cAAM,EAAE,KAAKxF,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAhH;AAA+I,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,QAAhC,EAA0C,OAA1C;AAAzJ,QAFF,CALF,CAbF,CAlCJ,EA2DI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,OAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE,0FADF,eAEE,2DAAC,0DAAD;AACE,eAAO,EAAEoB,OADX;AAEE,0BAAkB,EAAE6D,WAFtB;AAGE,cAAM,EAAE,KAAK/E,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAHV;AAIE,2BAAmB,EAAE,KAAK8I,mBAAL,CAAyB9I,IAAzB,CAA8B,IAA9B,EAAoC,CAApC,EAAuC,OAAvC,CAJvB;AAKE,yBAAiB,EAAE;AALrB,QAFF,eAQE,sEARF,eASE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,aAAV;AAAwB,iBAAS,EAAC,sBAAlC;AAAyD,YAAI,EAAC,UAA9D;AAAyE,eAAO,EAAE8G,YAAlF;AAAgG,aAAK,EAAE,IAAvG;AAA6G,gBAAQ,EAAE,KAAKkC,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,UAAhC,EAA4C,SAA5C;AAAvH,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,oBAFF,CATF,EAeI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,UAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,cAAV;AAAyB,iBAAS,EAAC,sBAAnC;AAA0D,YAAI,EAAC,UAA/D;AAA0E,eAAO,EAAEsD,cAAnF;AAAmG,aAAK,EAAE,IAA1G;AAAgH,gBAAQ,EAAE,KAAKgC,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,UAAhC,EAA4C,SAA5C;AAA1H,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,qBAFF,CAhBJ,EAuBI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,cAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,qBAAV;AAAgC,iBAAS,EAAC,sBAA1C;AAAiE,YAAI,EAAC,UAAtE;AAAiF,eAAO,EAAEwD,kBAA1F;AAA8G,aAAK,EAAE,IAArH;AAA2H,gBAAQ,EAAE,KAAK8B,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,cAAhC,EAAgD,SAAhD;AAArI,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,6BAFF,CAxBJ,EA+BI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,gBAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,kBAAV;AAA6B,iBAAS,EAAC,sBAAvC;AAA8D,YAAI,EAAC,UAAnE;AAA8E,eAAO,EAAE0D,qBAAvF;AAA8G,aAAK,EAAE,IAArH;AAA2H,gBAAQ,EAAE,KAAK4B,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,gBAAhC,EAAkD,SAAlD;AAArI,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,6BAFF,CAhCJ,EAuCIoH,qBAAqB,IAAI,KAAK7H,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,oBAAlC,CAAzB,iBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,uBAAV;AAAkC,iBAAS,EAAC,sBAA5C;AAAmE,YAAI,EAAC,UAAxE;AAAmF,eAAO,EAAE4D,0BAA5F;AAAwH,aAAK,EAAE,IAA/H;AAAqI,gBAAQ,EAAE,KAAK0B,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,oBAAhC,EAAsD,SAAtD;AAA/I,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,kCAFF,CAxCJ,EA+CI,CAAC,KAAKF,KAAL,CAAWkD,OAAX,CAAmBA,OAAnB,KAA+B,cAA/B,IAAiD,KAAKlD,KAAL,CAAWkD,OAAX,CAAmBA,OAAnB,KAA+B,YAAjF,KAAkGqF,wBAAlG,iBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,oBAAV;AAA+B,iBAAS,EAAC,sBAAzC;AAAgE,YAAI,EAAC,UAArE;AAAgF,eAAO,EAAEb,mBAAzF;AAA8G,aAAK,EAAE,IAArH;AAA2H,gBAAQ,EAAE,KAAKwB,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,QAAhC,EAA0C,SAA1C;AAArI,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,6BAFF,CAhDJ,CA5DJ,EAsHG,KAAKF,KAAL,CAAWkD,OAAX,CAAmBA,OAAnB,KAA+B,WAA/B,IAA8C,KAAKzD,KAAL,CAAWyD,OAAX,CAAmBiE,QAAjE,gBAEG;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,yBADF,eAEE;AAAO,UAAE,EAAC,aAAV;AAAwB,YAAI,EAAC,MAA7B;AAAoC,iBAAS,EAAC,cAA9C;AAA6D,oBAAY,EAAE,KAAK1H,KAAL,CAAWyD,OAAX,CAAmBqG,WAA9F;AAA2G,cAAM,EAAE,KAAKzF,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAnH;AAAkJ,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,aAAhC,EAA+C,OAA/C;AAA5J,QAFF,eAGE;AAAG,iBAAS,EAAC;AAAb,0GAHF,CAFH,gBAQI,uEA9HP,EAiIGmI,sBAAsB,iBACrB;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC;AAAjB,yBADF,eAEE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,2BAAV;AAAsC,iBAAS,EAAC,sBAAhD;AAAuE,YAAI,EAAC,UAA5E;AAAuF,eAAO,EAAEJ,uBAAhG;AAAyH,aAAK,EAAE,IAAhI;AAAsI,gBAAQ,EAAE,KAAKiB,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,iBAAhC,EAAmD,SAAnD;AAAhJ,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,sCAFF,CAFF,CAlIJ,EA6IGoI,oBAAoB,iBACnB;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC;AAAjB,oCADF,eAEE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,sBAAV;AAAiC,iBAAS,EAAC,sBAA3C;AAAkE,YAAI,EAAC,UAAvE;AAAkF,eAAO,EAAEH,2BAA3F;AAAwH,aAAK,EAAE,IAA/H;AAAqI,gBAAQ,EAAE,KAAKe,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,eAAhC,EAAiD,SAAjD;AAA/I,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,gDAFF,CAFF,CA9IJ,EAyJI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,MAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,gBADF,eAEE;AAAO,UAAE,EAAC,WAAV;AAAsB,YAAI,EAAC,QAA3B;AAAoC,iBAAS,EAAC,cAA9C;AAA6D,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBsG,IAA9F;AAAoG,cAAM,EAAE,KAAK1F,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAA5G;AAA2I,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,MAAhC,EAAwC,OAAxC;AAArJ,QAFF,CADF,CA1JJ,EAiKI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,WAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,eADF,eAEE;AAAO,UAAE,EAAC,UAAV;AAAqB,YAAI,EAAC,QAA1B;AAAmC,iBAAS,EAAC,cAA7C;AAA4D,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBuG,SAA7F;AAAwG,cAAM,EAAE,KAAK3F,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAhH;AAA+I,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,WAAhC,EAA6C,OAA7C;AAAzJ,QAFF,eAGE;AAAO,YAAI,EAAC,MAAZ;AAAmB,iBAAS,EAAC,cAA7B;AAA4C,oBAAY,EAAE,KAAKT,KAAL,CAAWyD,OAAX,CAAmBwG,SAA7E;AAAwF,cAAM,EAAE,KAAK5F,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAhG;AAA+H,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,WAAhC,EAA6C,OAA7C;AAAzI,QAHF,CADF,CAlKJ,EA0KI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,WAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,eADF,eAEE;AAAO,UAAE,EAAC,UAAV;AAAqB,YAAI,EAAC,QAA1B;AAAmC,iBAAS,EAAC,cAA7C;AAA4D,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmByG,SAA7F;AAAwG,cAAM,EAAE,KAAK7F,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAhH;AAA+I,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,WAAhC,EAA6C,OAA7C;AAAzJ,QAFF,eAGE;AAAO,YAAI,EAAC,MAAZ;AAAmB,iBAAS,EAAC,cAA7B;AAA4C,oBAAY,EAAE,KAAKT,KAAL,CAAWyD,OAAX,CAAmB0G,SAA7E;AAAwF,cAAM,EAAE,KAAK9F,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAhG;AAA+H,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,WAAhC,EAA6C,OAA7C;AAAzI,QAHF,CADF,CA3KJ,EAmLI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,eAAlC,kBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,4BADF,eAEE;AAAO,UAAE,EAAC,iBAAV;AAA4B,YAAI,EAAC,QAAjC;AAA0C,iBAAS,EAAC,cAApD;AAAmE,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmB2G,aAApG;AAAmH,cAAM,EAAE,KAAK/F,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAA3H;AAA0J,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,eAAhC,EAAiD,OAAjD;AAApK,QAFF,CADF,CApLJ,EA2LI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,QAAlC,KAA+C,KAAKnE,KAAL,CAAWyD,OAAX,UAA/C,iBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC;AAAjB,sBADF,eAEE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,SAAV;AAAoB,iBAAS,EAAC,sBAA9B;AAAqD,YAAI,EAAC,UAA1D;AAAqE,eAAO,EAAEyE,iBAA9E;AAAiG,aAAK,EAAE,IAAxG;AAA8G,gBAAQ,EAAE,KAAKuB,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,MAAhC,EAAwC,SAAxC;AAAxH,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,gBAFF,CAFF,eAQE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,UAAE,EAAC,WAAV;AAAsB,iBAAS,EAAC,sBAAhC;AAAuD,YAAI,EAAC,UAA5D;AAAuE,eAAO,EAAE2H,mBAAhF;AAAqG,aAAK,EAAE,IAA5G;AAAkH,gBAAQ,EAAE,KAAKqB,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,QAAhC,EAA0C,SAA1C;AAA5H,QADF,eAEE;AAAO,iBAAS,EAAC,sBAAjB;AAAwC,eAAO,EAAC;AAAhD,kBAFF,CARF,CA5LJ,EA4MI,KAAKT,KAAL,CAAWyD,OAAX,CAAmB4G,eAAnB,iBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,uBADF,eAEE,2DAAC,+DAAD;AAAkB,YAAI,EAAC,MAAvB;AAA8B,iBAAS,EAAC,cAAxC;AAAuD,UAAE,EAAC,qBAA1D;AAAgF,oBAAY,EAAE,KAAKrK,KAAL,CAAWyD,OAAX,CAAmB6G,WAAjH;AAA8H,cAAM,EAAE,KAAKjG,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAtI;AAAqK,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,aAAhC,EAA+C,OAA/C;AAA/K,QAFF,CA7MJ,EAkNI,KAAKT,KAAL,CAAWuK,iBAAX,IAAgC,KAAKvK,KAAL,CAAWyD,OAAX,CAAmB+G,aAAnD,IAAoE,CAAC,KAAKxK,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,SAAlC,CAArE,iBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,0BADF,eAEE;AAAO,UAAE,EAAC,eAAV;AAA0B,YAAI,EAAC,MAA/B;AAAsC,iBAAS,EAAC,cAAhD;AAA+D,oBAAY,EAAE,KAAKnE,KAAL,CAAWyD,OAAX,CAAmBW,OAAhG;AAAyG,cAAM,EAAE,KAAKC,aAAL,CAAmB5D,IAAnB,CAAwB,IAAxB,CAAjH;AAAgJ,gBAAQ,EAAE,KAAKgJ,eAAL,CAAqBhJ,IAArB,CAA0B,IAA1B,EAAgC,SAAhC,EAA2C,OAA3C;AAA1J,QAFF,CAnNJ,EAwNI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBgH,kBAAnB,IAAyC,KAAKzK,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,SAAlC,CAAzC,iBACA;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,eAAjB;AAAiC,eAAO,EAAC;AAAzC,qCADF,eAEE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAO,iBAAS,EAAC,cAAjB;AAAgC,aAAK,EAAE;AAAEa,eAAK,EAAE;AAAT,SAAvC;AAA0D,YAAI,EAAC,MAA/D;AAAsE,UAAE,EAAC,eAAzE;AAAyF,mBAAW,EAAC;AAArG,QADF,CADF,eAIE;AAAK,iBAAS,EAAC;AAAf,sBACE;AAAQ,eAAO,EAAE,KAAK0F,UAAL,CAAgBjK,IAAhB,CAAqB,IAArB,CAAjB;AAA6C,iBAAS,EAAC;AAAvD,oBADF,CAJF,CAFF,CAzNJ,EAqOI,KAAKT,KAAL,CAAWyD,OAAX,CAAmBU,cAAnB,CAAkC,SAAlC,kBACA,2DAAC,4DAAD;AAAmB,yBAAiB,EAAE,KAAKnE,KAAL,CAAWuK,iBAAjD;AACE,4BAAoB,EAAE3F,oBADxB;AAEE,0BAAkB,EAAED,kBAFtB;AAGE,YAAI,EAAE,KAAK3E,KAAL,CAAWuE,OAAX,CAAmBhE,KAAnB,CAAyBF,IAHjC;AAIE,qBAAa,EAAE,KAAKL,KAAL,CAAWqE,aAJ5B;AAKE,eAAO,EAAE,KAAKrE,KAAL,CAAWuE,OALtB;AAME,eAAO,EAAE,KAAKvE,KAAL,CAAWyD,OANtB;AAOE,WAAG,EAAE,KAAKzD,KAAL,CAAWyD,OAAX,CAAmBQ,OAAnB,CAA2BxB;AAPlC,QAtOJ,CADF;AAkPD;;;;EAnW2CtB,4CAAK,CAACC,S;;;AAqWpDwE,gBAAgB,CAAC+E,YAAjB,GAAgC;AAAEjF,WAAS,EAAE;AAAb,CAAhC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1XA;AACA;AAEA,IAAMkF,YAAY,GAAG,mBAArB;;IAEqBC,W;;;;;;;;;;;;;6BACV;AACP,aACE,KAAK7K,KAAL,CAAW8K,IAAX,iBACA;AAAK,iBAAS,EAAEF;AAAhB,sBACE,wEAAM,KAAK5K,KAAL,CAAW2D,IAAjB,CADF,CAFF;AAMD;;;;EARsCxC,4CAAK,CAACC,S;;;AAW/CyJ,WAAW,CAACE,SAAZ,GAAwB;AACtBpH,MAAI,EAAEqH,iDAAS,CAACC,MADM;AAEtBH,MAAI,EAAEE,iDAAS,CAACE;AAFM,CAAxB;AAKAL,WAAW,CAACF,YAAZ,GAA2B;AACzBhH,MAAI,EAAE,sBADmB;AAEzBmH,MAAI,EAAE;AAFmB,CAA3B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEMK,gB;;;;;AACJ,4BAAYnL,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AAEA,UAAKO,KAAL,GAAa;AACX6K,cAAQ,EAAE,KADC;AAEXC,iBAAW,EAAE;AAFF,KAAb;AAHiB;AAOlB;;;;+BAEUhL,I,EAAMyD,C,EAAG;AAClBA,OAAC,CAACwH,cAAF;AACAxH,OAAC,CAACyH,eAAF;;AACA,UAAI,KAAKhL,KAAL,CAAW6K,QAAf,EAAyB;AACvB,aAAKpK,QAAL,CAAc;AAAEoK,kBAAQ,EAAE,CAAC,KAAK7K,KAAL,CAAW6K,QAAxB;AAAkCC,qBAAW,EAAE;AAA/C,SAAd;AACD,OAFD,MAEO;AACL,aAAKrK,QAAL,CAAc;AAAEoK,kBAAQ,EAAE,CAAC,KAAK7K,KAAL,CAAW6K,QAAxB;AAAkCC,qBAAW,EAAEhL;AAA/C,SAAd;AACD;AACF;;;wCAEmB;AAClB,UAAI,KAAKE,KAAL,CAAW6K,QAAf,EAAyB;AACvB,aAAKpK,QAAL,CAAc;AACZoK,kBAAQ,EAAE,KADE;AAEZC,qBAAW,EAAE;AAFD,SAAd;AAID;AACF;;;6BAEQ;AACP,UAAMG,YAAY,GAAG;AACnBnB,uBAAe,EAAE,KAAKrK,KAAL,CAAWyL;AADT,OAArB;;AAGA,UAAI,KAAKzL,KAAL,CAAW0L,YAAf,EAA6B;AAAEF,oBAAY,CAACG,KAAb,GAAqB,KAAK3L,KAAL,CAAW0L,YAAhC;AAA+C;;AAC9E,0BACE,2DAAC,qDAAD;AAAa,eAAO,EAAEE,+DAAYA;AAAlC,sBACC,qFASE;AAAK,iBAAS,EAAC;AAAf,sBACE,qFACE,2DAAC,gDAAD;AAAS,aAAK,EAAE,KAAK5L,KAAL,CAAWgJ,KAA3B;AACI,yBAAiB,EAAE,KAAKM,iBAAL,CAAuB7I,IAAvB,CAA4B,IAA5B,CADvB;AAEI,yBAAiB,EAAE,KAAKT,KAAL,CAAWuK,iBAFlC;AAGI,cAAM,EAAE,IAHZ;AAII,YAAI,EAAE,KAAKvK,KAAL,CAAWK,IAJrB;AAKI,WAAG,EAAE,KAAKL,KAAL,CAAWH,GALpB;AAMI,eAAO,EAAE,KAAKG,KAAL,CAAWF,OANxB;AAOI,cAAM,EAAE,KAAKE,KAAL,CAAWiB,MAPvB;AAQI,cAAM,EAAE,KAAKjB,KAAL,CAAWkB,MARvB;AASI,kBAAU,EAAE,KAAK2K,UATrB;AAUI,gBAAQ,EAAE,KAAKtL,KAAL,CAAW6K,QAVzB;AAWI,iBAAS,EAAE,KAAKpL,KAAL,CAAW8L,SAX1B;AAYI,mBAAW,EAAE,KAAKvL,KAAL,CAAW8K;AAZ5B,QADF,eAcE,2DAAC,gDAAD,EAAaG,YAAb,CAdF,CADF,CATF,CADD,CADF;AAgCD;;;;EAlE4BrK,4CAAK,CAACC,S;;AAqErC,IAAM2K,YAAY,GAAG,EAArB;AACAA,YAAY,CAACZ,gBAAb,GAAgCA,gBAAhC;AACAY,YAAY,CAACC,kBAAb,GAAkCA,6CAAlC;AACAD,YAAY,CAAClL,YAAb,GAA4BoL,qDAA5B;AAEeF,2EAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvFA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;IAEQlB,W,GAAgBqB,+D,CAAhBrB,W;;IAEasB,O;;;;;AACnB,mBAAYnM,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,kEAqCL,UAAC8D,CAAD,EAAO;AACnB,UAAI,MAAKsI,QAAL,CAAcC,OAAd,IAAyB,CAAC,MAAKD,QAAL,CAAcC,OAAd,CAAsBC,QAAtB,CAA+BxI,CAAC,CAACnD,MAAjC,CAA9B,EAAwE;AACtE,cAAK2I,iBAAL;AACD;AACF,KAzCkB;;AAAA,wEA2CC,YAAM;AAAA,UAChB+B,WADgB,GACA,MAAKrL,KADL,CAChBqL,WADgB;;AAExB,UAAIA,WAAW,IAAIA,WAAW,CAAC3H,KAA/B,EAAsC;AACpC2H,mBAAW,CAAC3H,KAAZ,GAAoB,KAApB;;AACA,cAAKW,aAAL,CAAmBgH,WAAnB;AACD;;AACD,YAAKrL,KAAL,CAAWsJ,iBAAX;AACD,KAlDkB;;AAAA,QAGTrI,MAHS,GAGUjB,KAHV,CAGTiB,MAHS;AAAA,QAGDC,MAHC,GAGUlB,KAHV,CAGDkB,MAHC;AAIjB+K,yDAAK,CAACM,kBAAN,CAAyBtL,MAAzB,EAAiCC,MAAjC;AAEA,UAAKkL,QAAL,gBAAgBjL,4CAAK,CAACqL,SAAN,EAAhB;AACA,UAAKjM,KAAL,GAAa;AACXF,UAAI,EAAE,EADK;AAEXoM,iBAAW,EAAE;AAFF,KAAb;AAIA,UAAKC,GAAL,GAAW,CAAX;;AAEA,QAAMC,QAAQ,GAAG,MAAKC,SAAL,CAAenM,IAAf,+BAAjB;;AACAwL,yDAAK,CAACY,SAAN,CAAgB,UAAAtM,KAAK;AAAA,aAAIoM,QAAQ,CAACpM,KAAK,CAACF,IAAP,CAAZ;AAAA,KAArB;AAEA,UAAKyM,QAAL,GAAgB,MAAKA,QAAL,CAAcrM,IAAd,+BAAhB;AACA,UAAKsM,UAAL,GAAkB,MAAKA,UAAL,CAAgBtM,IAAhB,+BAAlB;AAjBiB;AAkBlB;;;;wCASmB;AAAA,wBACa,KAAKT,KADlB;AAAA,UACVK,IADU,eACVA,IADU;AAAA,UACJR,GADI,eACJA,GADI;AAAA,UACCC,OADD,eACCA,OADD;AAElBmM,2DAAK,CAACnL,QAAN,CAAe,MAAf,EAAuB;AAAEC,eAAO,EAAElB,GAAX;AAAgBC,eAAO,EAAPA,OAAhB;AAAyBO,YAAI,EAAEA,IAAI,IAAI;AAAvC,OAAvB;AACA2G,cAAQ,CAACgG,gBAAT,CAA0B,WAA1B,EAAuC,KAAKC,WAA5C;AACD;;;2CAEsB;AACrBjG,cAAQ,CAACkG,mBAAT,CAA6B,WAA7B,EAA0C,KAAKD,WAA/C;AACD;;;8BAiBStJ,I,EAAM;AACd,aAAOA,IAAI,CAACT,OAAL,CAAa,cAAb,EAA6B,GAA7B,EAAkCU,WAAlC,EAAP;AACD;;;kCAEaH,O,EAAS;AAAA,UACbpD,IADa,GACJ,KAAKE,KADD,CACbF,IADa;AAErB,UAAI8M,KAAK,GAAG,KAAZ;;AAEA,WAAK,IAAI3K,CAAC,GAAG,CAAR,EAAWH,GAAG,GAAGhC,IAAI,CAACoC,MAA3B,EAAmCD,CAAC,GAAGH,GAAvC,EAA4CG,CAAC,EAA7C,EAAiD;AAC/C,YAAIiB,OAAO,CAACwF,EAAR,KAAe5I,IAAI,CAACmC,CAAD,CAAJ,CAAQyG,EAA3B,EAA+B;AAC7B5I,cAAI,CAACmC,CAAD,CAAJ,GAAUiB,OAAV;AACA0J,eAAK,GAAG,IAAR;AACA;AACD;AACF;;AAED,UAAIA,KAAJ,EAAW;AACT,aAAKT,GAAL,GAAW,KAAKA,GAAL,GAAW,MAAX,GAAoB,CAApB,GAAwB,KAAKA,GAAL,GAAW,CAA9C;AACAT,6DAAK,CAACnL,QAAN,CAAe,aAAf,EAA8BT,IAA9B;AACD;AACF;;;8BAESA,I,EAAM;AAAA;;AACd,UAAMoM,WAAW,GAAG,EAApB;AAEApM,UAAI,CAAC6G,OAAL,CAAa,UAACkG,IAAD,EAAU;AACrB,YAAIA,IAAI,IAAIA,IAAI,CAAC1F,QAAb,IAAyB,MAAI,CAAC1H,KAAL,CAAW8L,SAAX,CAAqBsB,IAAI,CAACtD,WAA1B,CAA7B,EAAqE;AACnE2C,qBAAW,CAACW,IAAI,CAACC,UAAN,CAAX,GAA+B,MAAI,CAACrN,KAAL,CAAW8L,SAAX,CAAqBsB,IAAI,CAACtD,WAA1B,CAA/B;AACD;AACF,OAJD;AAMA,WAAK9I,QAAL,CAAc;AACZX,YAAI,EAAJA,IADY;AAEZoM,mBAAW,EAAXA;AAFY,OAAd;AAID;;;+BAEUW,I,EAAM;AACfnB,2DAAK,CAACnL,QAAN,CAAe,QAAf,EAAyBsM,IAAzB;AACD;;;+BAEUA,I,EAAME,U,EAAY;AAAA,UACnBjN,IADmB,GACV,KAAKE,KADK,CACnBF,IADmB;AAE3BA,UAAI,CAACoE,MAAL,CAAY6I,UAAZ,EAAwB,CAAxB,EAA2BF,IAA3B;AACA,WAAKG,QAAL,CAAcH,IAAd,EAAoBE,UAApB,EAAgCA,UAAhC;AACD;;;6BAEQE,S,EAAWF,U,EAAY;AAAA,UACtBjN,IADsB,GACb,KAAKE,KADQ,CACtBF,IADsB;AAE9B,UAAMoN,QAAQ,GAAGpN,IAAI,CAACmN,SAAD,CAArB;AACA,WAAKD,QAAL,CAAcE,QAAd,EAAwBD,SAAxB,EAAmCF,UAAnC;AACD,K,CAED;;;;oCACgBE,S,EAAWF,U,EAAY,CACrC;AACD;;;6BAEQG,Q,EAAUD,S,EAAWF,U,EAAY;AACxC,UAAMI,OAAO,GAAGC,0DAAM,CAAC,KAAKpN,KAAN,EAAa;AACjCF,YAAI,EAAE;AACJuN,iBAAO,EAAE,CAAC,CAACJ,SAAD,EAAY,CAAZ,CAAD,EAAiB,CAACF,UAAD,EAAa,CAAb,EAAgBG,QAAhB,CAAjB;AADL;AAD2B,OAAb,CAAtB;AAKA,WAAKzM,QAAL,CAAc0M,OAAd;AACAzB,2DAAK,CAACnL,QAAN,CAAe,aAAf,EAA8B4M,OAAO,CAACrN,IAAtC;AACD;;;+BAEU+M,I,EAAM5I,K,EAAO;AACtB,UAAMqJ,mBAAmB,GAAG3B,+DAAoB,CAACkB,IAAI,CAAC3J,OAAN,CAAhD;AACA,0BAAO,2DAAC,mBAAD;AAAqB,UAAE,EAAE2J,IAAI,CAACnE,EAA9B;AAAkC,WAAG,EAAE,KAAKyD,GAA5C;AAAiD,aAAK,EAAElI,KAAxD;AAA+D,gBAAQ,EAAE,KAAKsI,QAA9E;AAAwF,kBAAU,EAAE,KAAKC,UAAzG;AAAqH,eAAO,EAAE,KAA9H;AAAqI,cAAM,EAAE,KAAK/M,KAAL,CAAW8N,MAAxJ;AAAgK,kBAAU,EAAE,KAAK9N,KAAL,CAAW6L,UAAvL;AAAmM,mBAAW,EAAE,IAAhN;AAAsN,WAAG,EAAEuB,IAAI,CAACnE,EAAhO;AAAoO,gBAAQ,EAAEmE,IAAI,CAACnE,EAAnP;AAAuP,YAAI,EAAEmE,IAA7P;AAAmQ,kBAAU,EAAE,KAAKW;AAApR,QAAP;AACD;;;6BAEQ;AAAA;;AACP,UAAIC,OAAO,GAAG,KAAKhO,KAAL,CAAW0F,SAAzB;;AACA,UAAI,KAAK1F,KAAL,CAAWoL,QAAf,EAAyB;AAAE4C,eAAO,IAAI,aAAX;AAA2B;;AACtD,UAAM3N,IAAI,GAAG,KAAKE,KAAL,CAAWF,IAAX,CAAgB4N,MAAhB,CAAuB,UAAA9G,CAAC;AAAA,eAAI,CAAC,CAACA,CAAN;AAAA,OAAxB,CAAb;AACA,UAAMwE,KAAK,GAAGtL,IAAI,CAACwE,GAAL,CAAS,UAACuI,IAAD,EAAO5I,KAAP;AAAA,eAAiB,MAAI,CAAC0J,UAAL,CAAgBd,IAAhB,EAAsB5I,KAAtB,CAAjB;AAAA,OAAT,CAAd;AACA,0BACE;AAAK,iBAAS,EAAEwJ;AAAhB,sBACE;AAAK,iBAAS,EAAC,WAAf;AAA2B,WAAG,EAAE,KAAK5B;AAArC,SACI,KAAKpM,KAAL,CAAWqL,WAAX,KAA2B,IAA3B,iBACA,2DAAC,2DAAD;AAAkB,yBAAiB,EAAE,KAAKrL,KAAL,CAAWuK,iBAAhD;AAAmE,aAAK,EAAE,KAAKvK,KAAL,CAAWgJ,KAArF;AAA4F,yBAAiB,EAAE,KAAKM,iBAApH;AAAuI,eAAO,EAAE,IAAhJ;AAAsJ,eAAO,EAAE,KAAKtJ,KAAL,CAAWqL,WAA1K;AAAuL,qBAAa,EAAE,KAAKhH;AAA3M,QAFJ,CADF,eAME;AAAK,iBAAS,EAAC;AAAf,SAA2BsH,KAA3B,CANF,eAOG,2DAAC,WAAD;AAAa,UAAE,EAAC,mBAAhB;AAAoC,YAAI,EAAEA,KAAK,CAAClJ,MAAN,KAAiB,CAA3D;AAA8D,aAAK,EAAEkJ,KAAK,CAAClJ,MAA3E;AAAmF,gBAAQ,EAAE,KAAK0L,eAAlG;AAAmH,kBAAU,EAAE,KAAKpB;AAApI,QAPH,CADF;AAWD;;;6CAzH+B/M,K,EAAOO,K,EAAO;AAC5C,UAAIP,KAAK,CAACK,IAAN,IAAcL,KAAK,CAACK,IAAN,KAAeE,KAAK,CAACF,IAAvC,EAA6C;AAC3C4L,6DAAK,CAACnL,QAAN,CAAe,aAAf,EAA8Bd,KAAK,CAACK,IAApC;AACD;;AACD,aAAO,IAAP;AACD;;;;EA1BkCc,4CAAK,CAACC,S;;;AAgJ3C+K,OAAO,CAACxB,YAAR,GAAuB;AACrBJ,mBAAiB,EAAE,KADE;AACKvB,OAAK,EAAE,EADZ;AACgBoC,UAAQ,EAAE,KAD1B;AACiCC,aAAW,EAAE,IAD9C;AACoD3F,WAAS,EAAE;AAD/D,CAAvB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JA;AACA;AACA;AACA;AACA;AAEA,IAAM0I,KAAK,GAAG;AACZC,QAAM,EAAE,iBADI;AAEZC,SAAO,EAAE,aAFG;AAGZC,cAAY,EAAE,OAHF;AAIZC,iBAAe,EAAE,OAJL;AAKZC,QAAM,EAAE;AALI,CAAd;AAQA,IAAMC,UAAU,GAAG;AACjBC,WADiB,qBACP3O,KADO,EACA;AACf,WAAO;AACLiJ,QAAE,EAAEjJ,KAAK,CAACiJ,EADL;AAELzE,WAAK,EAAExE,KAAK,CAACwE;AAFR,KAAP;AAID;AANgB,CAAnB;AASA,IAAMoK,UAAU,GAAG;AACjBC,OADiB,iBACX7O,KADW,EACJ8O,OADI,EACKC,SADL,EACgB;AAC/B,QAAM3B,IAAI,GAAG0B,OAAO,CAACE,OAAR,EAAb;AACA,QAAMxB,SAAS,GAAGJ,IAAI,CAAC5I,KAAvB;AACA,QAAM8I,UAAU,GAAGtN,KAAK,CAACwE,KAAzB,CAH+B,CAK/B;;AACA,QAAIgJ,SAAS,KAAKF,UAAlB,EAA8B;AAC5B;AACD;;AAAC,QAAIE,SAAS,KAAK,CAAC,CAAnB,EAAsB;AACtBJ,UAAI,CAAC5I,KAAL,GAAa8I,UAAb;AACAtN,WAAK,CAAC+M,UAAN,CAAiBK,IAAI,CAAC6B,QAAL,CAAc7B,IAAI,CAAC/M,IAAnB,CAAjB,EAA2CiN,UAA3C;AACD,KAX8B,CAa/B;;;AACA,QAAM4B,iBAAiB,GAAGC,6DAAW,CAACJ,SAAD,CAAX,CAAuBK,qBAAvB,EAA1B,CAd+B,CAgB/B;;AACA,QAAMC,YAAY,GAAG,CAACH,iBAAiB,CAACI,MAAlB,GAA2BJ,iBAAiB,CAACK,GAA9C,IAAqD,CAA1E,CAjB+B,CAmB/B;;AACA,QAAMC,YAAY,GAAGV,OAAO,CAACW,eAAR,EAArB,CApB+B,CAsB/B;;AACA,QAAMC,YAAY,GAAGF,YAAY,CAACG,CAAb,GAAiBT,iBAAiB,CAACK,GAAxD,CAvB+B,CAyB/B;AACA;AACA;AAEA;;AACA,QAAI/B,SAAS,GAAGF,UAAZ,IAA0BoC,YAAY,GAAGL,YAA7C,EAA2D;AACzD;AACD,KAhC8B,CAkC/B;;;AACA,QAAI7B,SAAS,GAAGF,UAAZ,IAA0BoC,YAAY,GAAGL,YAA7C,EAA2D;AACzD;AACD,KArC8B,CAuC/B;;;AACArP,SAAK,CAAC8M,QAAN,CAAeU,SAAf,EAA0BF,UAA1B,EAxC+B,CA0C/B;AACA;AACA;AACA;;AACAF,QAAI,CAAC5I,KAAL,GAAa8I,UAAb;AACD;AAhDgB,CAAnB,C,CAmDA;;AACe,yEAAUsC,iBAAV,EAA6B;AAAA,MACpCC,IADoC;AAAA;;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAiB/B;AAAA,0BAKH,KAAK7P,KALF;AAAA,YAEL8P,UAFK,eAELA,UAFK;AAAA,YAGLC,iBAHK,eAGLA,iBAHK;AAAA,YAILC,iBAJK,eAILA,iBAJK;AAMP,YAAMC,OAAO,GAAGH,UAAU,GAAG,CAAH,GAAO,CAAjC;AAEA,eAAOC,iBAAiB,CACtBC,iBAAiB,eAAC,qFAAK,2DAAC,iBAAD,eAAuB,KAAKhQ,KAA5B;AAAmC,eAAK,kCAAOoO,KAAP;AAAc6B,mBAAO,EAAPA;AAAd;AAAxC,WAAL,CAAD,CADK,CAAxB;AAGD;AA5BuC;;AAAA;AAAA,IACvB7O,+CADuB;;AAAA,kBACpCyO,IADoC,eAErB;AACjBE,qBAAiB,EAAE/E,iDAAS,CAACkF,IADZ;AAEjBF,qBAAiB,EAAEhF,iDAAS,CAACkF,IAFZ;AAGjB1L,SAAK,EAAEwG,iDAAS,CAACmF,MAAV,CAAiBC,UAHP;AAIjBN,cAAU,EAAE9E,iDAAS,CAACE,IAJL;AAKjBjC,MAAE,EAAE+B,iDAAS,CAACqF,GAAV,CAAcD,UALD;AAMjB;AACAtD,YAAQ,EAAE9B,iDAAS,CAACkF,IAAV,CAAeE,UAPR;AAQjB1D,OAAG,EAAE1B,iDAAS,CAACmF;AARE,GAFqB;;AAAA,kBACpCN,IADoC,kBAalB;AACpBnD,OAAG,EAAE,CAAC;AADc,GAbkB;;AA+B1C,MAAMvF,CAAC,GAAGmJ,4DAAU,CAACC,kDAAS,CAACvO,IAAX,EAAiB4M,UAAjB,EAA6B,UAAA4B,OAAO;AAAA,WAAK;AAC3DR,uBAAiB,EAAEQ,OAAO,CAACC,UAAR;AADwC,KAAL;AAAA,GAApC,CAAV,CAENZ,IAFM,CAAV;AAGA,SAAOa,4DAAU,CAACH,kDAAS,CAACvO,IAAX,EAAiB0M,UAAjB,EAA6B,UAAC8B,OAAD,EAAU1B,OAAV;AAAA,WAAuB;AACnEiB,uBAAiB,EAAES,OAAO,CAACG,UAAR,EADgD;AAEnEb,gBAAU,EAAEhB,OAAO,CAACgB,UAAR;AAFuD,KAAvB;AAAA,GAA7B,CAAV,CAGH3I,CAHG,CAAP;AAID,C;;;;;;;;;;;;ACjHD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;IAGEyJ,M,GAEEC,sD,CAFFD,M;IAAQE,S,GAEND,sD,CAFMC,S;IAAWC,K,GAEjBF,sD,CAFiBE,K;IAAOC,S,GAExBH,sD,CAFwBG,S;IAAWC,S,GAEnCJ,sD,CAFmCI,S;IAAWC,W,GAE9CL,sD,CAF8CK,W;IAAaC,Q,GAE3DN,sD,CAF2DM,Q;IAAUC,Q,GAErEP,sD,CAFqEO,Q;IAAUC,U,GAE/ER,sD,CAF+EQ,U;IACjFC,U,GACET,sD,CADFS,U;IAAYC,Y,GACVV,sD,CADUU,Y;IAAcC,K,GACxBX,sD,CADwBW,K;IAAOC,M,GAC/BZ,sD,CAD+BY,M;IAAQC,I,GACvCb,sD,CADuCa,I;IAAMC,S,GAC7Cd,sD,CAD6Cc,S;IAAWC,S,GACxDf,sD,CADwDe,S;IAAWC,Q,GACnEhB,sD,CADmEgB,Q;IAAUC,M,GAC7EjB,sD,CAD6EiB,M;IAAQC,K,GACrFlB,sD,CADqFkB,K;AAGzF,IAAMC,YAAY,GAAG,EAArB;AAEAA,YAAY,CAACpB,MAAb,GAAsBqB,iEAAe,CAACrB,MAAD,CAArC;AACAoB,YAAY,CAAClB,SAAb,GAAyBmB,iEAAe,CAACnB,SAAD,CAAxC;AACAkB,YAAY,CAACjB,KAAb,GAAqBkB,iEAAe,CAAClB,KAAD,CAApC;AACAiB,YAAY,CAAChB,SAAb,GAAyBiB,iEAAe,CAACjB,SAAD,CAAxC;AACAgB,YAAY,CAACf,SAAb,GAAyBgB,iEAAe,CAAChB,SAAD,CAAxC;AACAe,YAAY,CAACd,WAAb,GAA2Be,iEAAe,CAACf,WAAD,CAA1C;AACAc,YAAY,CAACb,QAAb,GAAwBc,iEAAe,CAACd,QAAD,CAAvC;AACAa,YAAY,CAACZ,QAAb,GAAwBa,iEAAe,CAACb,QAAD,CAAvC;AACAY,YAAY,CAACL,SAAb,GAAyBM,iEAAe,CAACN,SAAD,CAAxC;AACAK,YAAY,CAACX,UAAb,GAA0BY,iEAAe,CAACZ,UAAD,CAAzC;AACAW,YAAY,CAACV,UAAb,GAA0BW,iEAAe,CAACX,UAAD,CAAzC;AACAU,YAAY,CAACT,YAAb,GAA4BU,iEAAe,CAACV,YAAD,CAA3C;AACAS,YAAY,CAACR,KAAb,GAAqBS,iEAAe,CAACT,KAAD,CAApC;AACAQ,YAAY,CAACP,MAAb,GAAsBQ,iEAAe,CAACR,MAAD,CAArC;AACAO,YAAY,CAACN,IAAb,GAAoBO,iEAAe,CAACP,IAAD,CAAnC;AACAM,YAAY,CAACJ,SAAb,GAAyBK,iEAAe,CAACL,SAAD,CAAxC;AACAI,YAAY,CAACH,QAAb,GAAwBI,iEAAe,CAACJ,QAAD,CAAvC;AACAG,YAAY,CAACF,MAAb,GAAsBG,iEAAe,CAACH,MAAD,CAArC;AACAE,YAAY,CAACD,KAAb,GAAqBE,iEAAe,CAACF,KAAD,CAApC;AACAC,YAAY,CAACnH,WAAb,GAA2BoH,iEAAe,CAACpH,0DAAD,CAA1C;AAEemH,2EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA,IAAMtD,UAAU,GAAG;AACjBC,WADiB,qBACP3O,KADO,EACA;AACf,WAAO;AACLiJ,QAAE,EAAE9G,4CAAE,CAACC,IAAH,EADC;AAELoC,WAAK,EAAE,CAAC,CAFH;AAGLnE,UAAI,EAAEL,KAAK,CAACK,IAHP;AAIL4O,cAAQ,EAAEjP,KAAK,CAACiP;AAJX,KAAP;AAMD;AARgB,CAAnB;;IAWMiD,W;;;;;;;;;;;;;6BACK;AAAA,wBACsC,KAAKlS,KAD3C;AAAA,UACC+P,iBADD,eACCA,iBADD;AAAA,UACoB1P,IADpB,eACoBA,IADpB;AAAA,UAC0B8R,OAD1B,eAC0BA,OAD1B;AAEP,UAAI,CAACpC,iBAAL,EAAwB,OAAO,IAAP;AACxB,aACEA,iBAAiB,eACf;AAAI,eAAO,EAAEoC;AAAb,sBAAsB;AAAG,iBAAS,EAAE9R,IAAI,CAAC+R;AAAnB,QAAtB,EAAoD/R,IAAI,CAACgS,IAAzD,CADe,CADnB;AAKD;;;;EATuBlR,4CAAK,CAACC,S;;AAYjBsP,2HAAU,CAACH,kDAAS,CAACvO,IAAX,EAAiB0M,UAAjB,EAA6B,UAAA8B,OAAO;AAAA,SAAK;AAChET,qBAAiB,EAAES,OAAO,CAACG,UAAR;AAD6C,GAAL;AAAA,CAApC,CAAV,CAEXuB,WAFW,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AAEA;AACA;AACA;AACA;;IAEqBI,O;;;;;AACnB,mBAAYtS,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AAEA,QAAM2L,KAAK,GAAI,MAAK3L,KAAL,CAAW2L,KAAZ,GAAqB,MAAK3L,KAAL,CAAW2L,KAAhC,GAAwC,MAAK4G,aAAL,EAAtD;AACA,UAAKhS,KAAL,GAAa;AACXoL,WAAK,EAALA;AADW,KAAb;AAGAM,yDAAK,CAACY,SAAN,CAAgB,UAAAtM,KAAK;AAAA,aAAI,MAAKS,QAAL,CAAc;AAAEiL,aAAK,EAAE1L;AAAT,OAAd,CAAJ;AAAA,KAArB;AACA,UAAKiS,MAAL,GAAc,MAAKA,MAAL,CAAY/R,IAAZ,+BAAd;AARiB;AASlB;;;;oCAiCe;AACd,aAAO,CACL;AACEiE,WAAG,EAAE,QADP;AAEE2N,YAAI,EAAE,aAFR;AAGED,YAAI,EAAE,gBAHR;AAIE,kBAAQ,IAJV;AAKE/L,eAAO,EAAE;AALX,OADK,EAQL;AACE3B,WAAG,EAAE,OADP;AAEE2N,YAAI,EAAE,OAFR;AAGE,kBAAQ,IAHV;AAIED,YAAI,EAAE,aAJR;AAKE/L,eAAO,EAAE;AALX,OARK,EAeL;AACE3B,WAAG,EAAE,WADP;AAEE2N,YAAI,EAAE,WAFR;AAGE,kBAAQ,IAHV;AAIED,YAAI,EAAE,kBAJR;AAKE/L,eAAO,EAAE;AALX,OAfK,EAsBL;AACE3B,WAAG,EAAE,WADP;AAEE2N,YAAI,EAAE,YAFR;AAGE,kBAAQ,IAHV;AAIED,YAAI,EAAE;AAJR,OAtBK,EA4BL;AACE1N,WAAG,EAAE,UADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,UAHR;AAIED,YAAI,EAAE,0BAJR;AAKE/I,aAAK,EAAE,mBALT;AAMEgE,kBAAU,EAAE,WANd;AAOEpJ,eAAO,EAAE;AAPX,OA5BK,EAqCL;AACES,WAAG,EAAE,MADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,MAHR;AAIED,YAAI,EAAE,aAJR;AAKE/I,aAAK,EAAE,mBALT;AAMEgE,kBAAU,EAAE,OANd;AAOEpJ,eAAO,EAAE;AAPX,OArCK,EA8CL;AACES,WAAG,EAAE,YADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,YAHR;AAIED,YAAI,EAAE,qBAJR;AAKE/I,aAAK,EAAE,mBALT;AAMEgE,kBAAU,EAAE,aANd;AAOEpJ,eAAO,EAAE;AAPX,OA9CK,EAuDL;AACES,WAAG,EAAE,cADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,iBAHR;AAIED,YAAI,EAAE,mBAJR;AAKE/I,aAAK,EAAE,mBALT;AAMEgE,kBAAU,EAAE,eANd;AAOEpJ,eAAO,EAAE;AAPX,OAvDK,EAgEL;AACES,WAAG,EAAE,WADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,YAHR;AAIEhJ,aAAK,EAAE,mBAJT;AAKE+I,YAAI,EAAE,aALR;AAME/E,kBAAU,EAAE;AANd,OAhEK,EAwEL;AACE3I,WAAG,EAAE,aADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,cAHR;AAIEhJ,aAAK,EAAE,mBAJT;AAKE+I,YAAI,EAAE,aALR;AAME/E,kBAAU,EAAE;AANd,OAxEK,EAgFL;AACE3I,WAAG,EAAE,UADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,kBAHR;AAIEhJ,aAAK,EAAE,mBAJT;AAKE+I,YAAI,EAAE,oBALR;AAME/E,kBAAU,EAAE;AANd,OAhFK,EAwFL;AACE3I,WAAG,EAAE,OADP;AAEE2N,YAAI,EAAE,OAFR;AAGEhJ,aAAK,EAAE,EAHT;AAIE+I,YAAI,EAAE,cAJR;AAKE/E,kBAAU,EAAE,QALd;AAMEzD,WAAG,EAAE;AANP,OAxFK,EAgGL;AACElF,WAAG,EAAE,QADP;AAEE8F,qBAAa,EAAE,IAFjB;AAGE6H,YAAI,EAAE,QAHR;AAIEhJ,aAAK,EAAE,mBAJT;AAKE+I,YAAI,EAAE,aALR;AAME/E,kBAAU,EAAE;AANd,OAhGK,EAwGL;AACE3I,WAAG,EAAE,YADP;AAEE+N,uBAAe,EAAE,IAFnB;AAGEC,mBAAW,EAAE,IAHf;AAIEC,kBAAU,EAAE,YAJd;AAKEC,kBAAU,EAAE,UALd;AAME9K,sBAAc,EAAE,KANlB;AAOEE,0BAAkB,EAAE,KAPtB;AAQEqK,YAAI,EAAE,MARR;AASED,YAAI,EAAE,qBATR;AAUE/I,aAAK,EAAE,mBAVT;AAWEgE,kBAAU,EAAE;AAXd,OAxGK,EAqHL;AACE3I,WAAG,EAAE,WADP;AAEEgO,mBAAW,EAAE,IAFf;AAGEL,YAAI,EAAE,WAHR;AAIED,YAAI,EAAE,mBAJR;AAKE/I,aAAK,EAAE,WALT;AAMEgE,kBAAU,EAAE;AANd,OArHK,EA6HL;AACE3I,WAAG,EAAE,WADP;AAEE2N,YAAI,EAAE,UAFR;AAGED,YAAI,EAAE,aAHR;AAIE,kBAAQ,IAJV;AAKE/L,eAAO,EAAE,+BALX;AAMEsD,YAAI,EAAE;AANR,OA7HK,EAqIL;AACEjF,WAAG,EAAE,UADP;AAEE2N,YAAI,EAAE,iBAFR;AAGED,YAAI,EAAE,aAHR;AAIE,kBAAQ,IAJV;AAKE/L,eAAO,EAAE,2BALX;AAMEgH,kBAAU,EAAE,WANd;AAOE7D,iBAAS,EAAE,EAPb;AAQEqJ,aAAK,EAAE;AART,OArIK,EA+IL;AACEnO,WAAG,EAAE,OADP;AAEE2N,YAAI,EAAE,OAFR;AAGED,YAAI,EAAE,kBAHR;AAIE/I,aAAK,EAAE,mBAJT;AAKEgE,kBAAU,EAAE,QALd;AAMEtD,YAAI,EAAE,CANR;AAOEK,qBAAa,EAAE,CAPjB;AAQEJ,iBAAS,EAAE,CARb;AASEE,iBAAS,EAAE,CATb;AAUED,iBAAS,EAAE,MAVb;AAWEE,iBAAS,EAAE;AAXb,OA/IK,EA4JL;AACEzF,WAAG,EAAE,QADP;AAEE2N,YAAI,EAAE,QAFR;AAGED,YAAI,EAAE,eAHR;AAIE/I,aAAK,EAAE,mBAJT;AAKEgE,kBAAU,EAAE;AALd,OA5JK,CAAP;AAoKD;;;2BAEMD,I,EAAM;AACX,UAAM0F,cAAc,GAAG;AACrB7J,UAAE,EAAE9G,4CAAE,CAACC,IAAH,EADiB;AAErBqB,eAAO,EAAE2J,IAAI,CAAC3J,OAAL,IAAgB2J,IAAI,CAAC1I,GAFT;AAGrBf,YAAI,EAAEyJ,IAAI,CAACiF,IAHU;AAIrB,kBAAQjF,IAAI,UAJS;AAKrB5F,gBAAQ,EAAE,KALW;AAMrB6C,uBAAe,EAAE+C,IAAI,CAAC/C;AAND,OAAvB;;AASA,UAAI,KAAKrK,KAAL,CAAWqK,eAAX,KAA+B,IAA/B,IAAuC,CAAC+C,IAAI,UAAhD,EAAyD;AACvD0F,sBAAc,CAACzI,eAAf,GAAiC,IAAjC;AACD;;AAED,UAAI+C,IAAI,UAAR,EAAiB;AACf0F,sBAAc,CAAC3K,IAAf,GAAsB,KAAtB;AACA2K,sBAAc,CAACzK,MAAf,GAAwB,KAAxB;AACD;;AAED,UAAI+E,IAAI,CAAC5C,aAAT,EAAwB;AAAEsI,sBAAc,CAACtI,aAAf,GAA+B4C,IAAI,CAAC5C,aAApC;AAAoD;;AAE9E,UAAI4C,IAAI,CAACsF,WAAT,EAAsB;AAAEI,sBAAc,CAACpL,QAAf,GAA0B,KAA1B;AAAkC;;AAE1D,UAAI0F,IAAI,CAACqF,eAAT,EAA0B;AAAEK,sBAAc,CAAClL,YAAf,GAA8B,KAA9B;AAAsC;;AAElE,UAAIwF,IAAI,CAAC/G,OAAT,EAAkB;AAAEyM,sBAAc,CAACzM,OAAf,GAAyB+G,IAAI,CAAC/G,OAA9B;AAAwC;;AAE5D,UAAI+G,IAAI,CAACzD,IAAT,EAAe;AAAEmJ,sBAAc,CAACnJ,IAAf,GAAsByD,IAAI,CAACzD,IAA3B;AAAkC;;AAEnDmJ,oBAAc,CAAClK,sBAAf,GAAwCwE,IAAI,CAACxE,sBAAL,KAAgC,KAAxE;AACAkK,oBAAc,CAACjK,oBAAf,GAAsCuE,IAAI,CAACvE,oBAAL,KAA8B,KAApE;AACAiK,oBAAc,CAAChK,wBAAf,GAA0CsE,IAAI,CAACtE,wBAAL,KAAkC,KAA5E;;AACA,UAAIgK,cAAc,CAAChK,wBAAnB,EAA6C;AAC3CgK,sBAAc,CAACtN,MAAf,GAAwB4H,IAAI,CAAC5H,MAA7B;AACD;;AACDsN,oBAAc,CAAClO,oBAAf,GAAsCwI,IAAI,CAACxI,oBAAL,KAA8B,KAApE;AACAkO,oBAAc,CAACnO,kBAAf,GAAoCyI,IAAI,CAACzI,kBAAL,KAA4B,KAAhE;AACAmO,oBAAc,CAACrI,kBAAf,GAAoC2C,IAAI,CAAC3C,kBAAL,KAA4B,KAAhE;;AAEA,UAAI2C,IAAI,CAAC1I,GAAL,KAAa,OAAjB,EAA0B;AACxBoO,sBAAc,CAAClJ,GAAf,GAAqBwD,IAAI,CAACxD,GAA1B;AACD;;AAED,UAAIwD,IAAI,CAAC1I,GAAL,KAAa,YAAjB,EAA+B;AAC7BoO,sBAAc,CAACH,UAAf,GAA4BvF,IAAI,CAACuF,UAAjC;AACAG,sBAAc,CAACF,UAAf,GAA4BxF,IAAI,CAACwF,UAAjC;AACAE,sBAAc,CAAChL,cAAf,GAAgCsF,IAAI,CAACtF,cAArC;AACAgL,sBAAc,CAAC9K,kBAAf,GAAoCoF,IAAI,CAACpF,kBAAzC;AACD;;AAED,UAAIoF,IAAI,CAAC1I,GAAL,KAAa,UAAjB,EAA6B;AAC3BoO,sBAAc,CAACD,KAAf,GAAuBzF,IAAI,CAACyF,KAA5B;AACAC,sBAAc,CAACtJ,SAAf,GAA2B4D,IAAI,CAAC5D,SAAhC;AACD;;AAED,UAAI4D,IAAI,CAAC1I,GAAL,KAAa,OAAjB,EAA0B;AACxBoO,sBAAc,CAAC/I,IAAf,GAAsBqD,IAAI,CAACrD,IAA3B;AACA+I,sBAAc,CAAC1I,aAAf,GAA+BgD,IAAI,CAAChD,aAApC;AACA0I,sBAAc,CAAC9I,SAAf,GAA2BoD,IAAI,CAACpD,SAAhC;AACA8I,sBAAc,CAAC5I,SAAf,GAA2BkD,IAAI,CAAClD,SAAhC;AACA4I,sBAAc,CAAC7I,SAAf,GAA2BmD,IAAI,CAACnD,SAAhC;AACA6I,sBAAc,CAAC3I,SAAf,GAA2BiD,IAAI,CAACjD,SAAhC;AACD;;AAED,UAAIiD,IAAI,CAAC2F,YAAT,EAAuB;AAAED,sBAAc,CAACC,YAAf,GAA8B3F,IAAI,CAAC2F,YAAnC;AAAkD;;AAE3E,UAAI3F,IAAI,CAACC,UAAT,EAAqB;AAAEyF,sBAAc,CAACzF,UAAf,GAA4BD,IAAI,CAACC,UAAL,GAAkBlL,4CAAE,CAACC,IAAH,EAA9C;AAA0D;;AAEjF,UAAIgL,IAAI,CAAC/D,KAAT,EAAgB;AAAEyJ,sBAAc,CAACzJ,KAAf,GAAuB+D,IAAI,CAAC/D,KAA5B;AAAoC;;AAEtD,UAAI+D,IAAI,CAACnJ,OAAT,EAAkB;AAChB,YAAImJ,IAAI,CAACnJ,OAAL,CAAaxB,MAAb,GAAsB,CAA1B,EAA6B;AAC3BqQ,wBAAc,CAAC7O,OAAf,GAAyBmJ,IAAI,CAACnJ,OAA9B;AACD,SAFD,MAEO;AACL6O,wBAAc,CAAC7O,OAAf,GAAyBqO,OAAO,CAACU,mBAAR,CAA4BF,cAAc,CAACrP,OAA3C,CAAzB;AACD;AACF;;AAED,aAAOqP,cAAP;AACD;;;6BAEQ1F,I,EAAM;AACb;AACAnB,2DAAK,CAACnL,QAAN,CAAe,QAAf,EAAyB,KAAK0R,MAAL,CAAYpF,IAAZ,CAAzB;AACD;;;6BAEQ;AAAA;;AACP,0BACE;AAAK,iBAAS,EAAC;AAAf,sBACE,iFADF,eAEE,uEAEI,KAAK7M,KAAL,CAAWoL,KAAX,CAAiB9G,GAAjB,CAAqB,UAACuI,IAAD;AAAA,4BAAW,2DAAC,+DAAD;AAAa,cAAI,EAAEA,IAAnB;AAAyB,aAAG,EAAEA,IAAI,CAAC1I,GAAnC;AAAwC,iBAAO,EAAE,MAAI,CAACuO,QAAL,CAAcxS,IAAd,CAAmB,MAAnB,EAAyB2M,IAAzB,CAAjD;AAAiF,kBAAQ,EAAE,MAAI,CAACoF;AAAhG,UAAX;AAAA,OAArB,CAFJ,CAFF,CADF;AAUD;;;wCAvS0B/O,O,EAAS;AAClC,cAAQA,OAAR;AACE,aAAK,UAAL;AACE,iBAAO,CACL;AAAE7C,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,4BAAqBvC,4CAAE,CAACC,IAAH,EAArB;AAApE,WADK,EAEL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,4BAAqBvC,4CAAE,CAACC,IAAH,EAArB;AAApE,WAFK,EAGL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,4BAAqBvC,4CAAE,CAACC,IAAH,EAArB;AAApE,WAHK,CAAP;;AAKF,aAAK,MAAL;AACE,iBAAO,CACL;AAAExB,iBAAK,EAAE,oBAAT;AAA+B+C,gBAAI,EAAE,oBAArC;AAA2De,eAAG,wBAAiBvC,4CAAE,CAACC,IAAH,EAAjB;AAA9D,WADK,EAEL;AAAExB,iBAAK,EAAE,oBAAT;AAA+B+C,gBAAI,EAAE,oBAArC;AAA2De,eAAG,wBAAiBvC,4CAAE,CAACC,IAAH,EAAjB;AAA9D,WAFK,EAGL;AAAExB,iBAAK,EAAE,oBAAT;AAA+B+C,gBAAI,EAAE,oBAArC;AAA2De,eAAG,wBAAiBvC,4CAAE,CAACC,IAAH,EAAjB;AAA9D,WAHK,CAAP;;AAKF,aAAK,YAAL;AACE,iBAAO,CACL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,8BAAuBvC,4CAAE,CAACC,IAAH,EAAvB;AAApE,WADK,EAEL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,8BAAuBvC,4CAAE,CAACC,IAAH,EAAvB;AAApE,WAFK,EAGL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,8BAAuBvC,4CAAE,CAACC,IAAH,EAAvB;AAApE,WAHK,CAAP;;AAKF,aAAK,cAAL;AACE,iBAAO,CACL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,gCAAyBvC,4CAAE,CAACC,IAAH,EAAzB;AAApE,WADK,EAEL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,gCAAyBvC,4CAAE,CAACC,IAAH,EAAzB;AAApE,WAFK,EAGL;AAAExB,iBAAK,EAAE,uBAAT;AAAkC+C,gBAAI,EAAE,uBAAxC;AAAiEe,eAAG,gCAAyBvC,4CAAE,CAACC,IAAH,EAAzB;AAApE,WAHK,CAAP;;AAKF;AACE,iBAAO,EAAP;AA1BJ;AA4BD;;;;EAzCkCjB,4CAAK,CAACC,S","file":"1.app.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ReactFormBuilder, ElementStore } from './src/index';\nimport * as variables from './variables';\nimport { get, post } from './requests';\n\nconst getUrl = (cid) => `https://safe-springs-35306.herokuapp.com/api/formdata?cid=${cid}`;\nrequire('./scss/application.scss');\n\nconst url = '/api/formdata';\nconst saveUrl = '/api/formdata';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { formId: '1' };\n    this.formId = this.state.formId;\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  formId;\n\n  handleChange(event) {\n    this.formId = event.target.value;\n    const url = getUrl(this.formId);\n    console.log('handleChange', url);\n    ElementStore.dispatch('load', { loadUrl: url });\n    this.setState({ formId: this.formId });\n  }\n\n  onLoad = () => {\n    const url = getUrl(this.formId);\n    console.log('onLoad', url);\n    return get(url);\n  };\n\n  onPost = (data) => {\n    const saveUrl = getUrl(this.formId);\n    console.log('onPost', saveUrl, data);\n    post(saveUrl, data);\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <label>\n          Select your form:          \n        </label>\n        <select className=\"form-control\" \n            value={this.state.formId} \n            onChange={this.handleChange} >\n          <option value=\"1\">Form 1</option>\n          <option value=\"2\">Form 2</option>\n        </select>\n        <hr></hr>\n        <ReactFormBuilder\n          onLoad={this.onLoad}\n          onPost={this.onPost}\n        />,\n      </div>\n    );\n  }\n}\n\nexport default App;","import fetch from 'isomorphic-fetch';\n\nconst headers = {\n  Accept: 'application/json',\n  'Content-Type': 'application/json; charset=utf-8',\n  OPTIONS: '',\n};\n\nexport function post(url, data) {\n  return fetch(url, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify(data),\n  }).then(response => response);\n}\n\nexport function get(url) {\n  return fetch(url, {\n    method: 'GET',\n    headers,\n  }).then(response => response.json());\n}\n","export default { CARD: 'card' };\n","/* eslint-disable */\n// Private array of chars to use\nvar CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');\nvar ID = {};\nID.uuid = function (len, radix) {\n  var chars = CHARS, uuid = [], i;\n  radix = radix || chars.length;\n\n  if (len) {\n    // Compact form\n    for (i = 0; i < len; i++) uuid[i] = chars[0 | Math.random()*radix];\n  } else {\n    // rfc4122, version 4 form\n    var r;\n\n    // rfc4122 requires these characters\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n    uuid[14] = '4';\n\n    // Fill in random data.  At i==19 set the high bits of clock sequence as\n    // per rfc4122, sec. 4.1.5\n    for (i = 0; i < 36; i++) {\n      if (!uuid[i]) {\n        r = 0 | Math.random()*16;\n        uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\n      }\n    }\n  }\n\n  return uuid.join('');\n};\n\n// A more performant, but slightly bulkier, RFC4122v4 solution.  We boost performance\n// by minimizing calls to random()\nID.uuidFast = function() {\n  var chars = CHARS, uuid = new Array(36), rnd=0, r;\n  for (var i = 0; i < 36; i++) {\n    if (i==8 || i==13 ||  i==18 || i==23) {\n      uuid[i] = '-';\n    } else if (i==14) {\n      uuid[i] = '4';\n    } else {\n      if (rnd <= 0x02) rnd = 0x2000000 + (Math.random()*0x1000000)|0;\n      r = rnd & 0xf;\n      rnd = rnd >> 4;\n      uuid[i] = chars[(i == 19) ? (r & 0x3) | 0x8 : r];\n    }\n  }\n  return uuid.join('');\n};\n\n// A more compact, but less performant, RFC4122v4 solution:\nID.uuidCompact = function() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\n    return v.toString(16);\n  });\n};\nmodule.exports = ID;","/**\n  * <DynamicOptionList />\n  */\n\nimport React from 'react';\nimport ID from './UUID';\n\nexport default class DynamicOptionList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      element: this.props.element,\n      data: this.props.data,\n      dirty: false,\n    };\n  }\n\n  _setValue(text) {\n    return text.replace(/[^A-Z0-9]+/ig, '_').toLowerCase();\n  }\n\n  editOption(option_index, e) {\n    const this_element = this.state.element;\n    const val = (this_element.options[option_index].value !== this._setValue(this_element.options[option_index].text)) ? this_element.options[option_index].value : this._setValue(e.target.value);\n\n    this_element.options[option_index].text = e.target.value;\n    this_element.options[option_index].value = val;\n    this.setState({\n      element: this_element,\n      dirty: true,\n    });\n  }\n\n  editValue(option_index, e) {\n    const this_element = this.state.element;\n    const val = (e.target.value === '') ? this._setValue(this_element.options[option_index].text) : e.target.value;\n    this_element.options[option_index].value = val;\n    this.setState({\n      element: this_element,\n      dirty: true,\n    });\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  editOptionCorrect(option_index, e) {\n    const this_element = this.state.element;\n    if (this_element.options[option_index].hasOwnProperty('correct')) {\n      delete (this_element.options[option_index].correct);\n    } else {\n      this_element.options[option_index].correct = true;\n    }\n    this.setState({ element: this_element });\n    this.props.updateElement.call(this.props.preview, this_element);\n  }\n\n  updateOption() {\n    const this_element = this.state.element;\n    // to prevent ajax calls with no change\n    if (this.state.dirty) {\n      this.props.updateElement.call(this.props.preview, this_element);\n      this.setState({ dirty: false });\n    }\n  }\n\n  addOption(index) {\n    const this_element = this.state.element;\n    this_element.options.splice(index + 1, 0, { value: '', text: '', key: ID.uuid() });\n    this.props.updateElement.call(this.props.preview, this_element);\n  }\n\n  removeOption(index) {\n    const this_element = this.state.element;\n    this_element.options.splice(index, 1);\n    this.props.updateElement.call(this.props.preview, this_element);\n  }\n\n  render() {\n    if (this.state.dirty) {\n      this.state.element.dirty = true;\n    }\n    return (\n      <div className=\"dynamic-option-list\">\n        <ul>\n          <li>\n            <div className=\"row\">\n              <div className=\"col-sm-6\"><b>Options</b></div>\n              { this.props.canHaveOptionValue &&\n              <div className=\"col-sm-2\"><b>Value</b></div> }\n              { this.props.canHaveOptionValue && this.props.canHaveOptionCorrect &&\n              <div className=\"col-sm-4\"><b>Correct</b></div> }\n            </div>\n          </li>\n          {\n            this.props.element.options.map((option, index) => {\n              const this_key = `edit_${option.key}`;\n              const val = (option.value !== this._setValue(option.text)) ? option.value : '';\n              return (\n                <li className=\"clearfix\" key={this_key}>\n                  <div className=\"row\">\n                    <div className=\"col-sm-6\">\n                      <input tabIndex={index + 1} className=\"form-control\" style={{ width: '100%' }} type=\"text\" name={`text_${index}`} placeholder=\"Option text\" value={option.text} onBlur={this.updateOption.bind(this)} onChange={this.editOption.bind(this, index)} />\n                    </div>\n                    { this.props.canHaveOptionValue &&\n                    <div className=\"col-sm-2\">\n                      <input className=\"form-control\" type=\"text\" name={`value_${index}`} value={val} onChange={this.editValue.bind(this, index)} />\n                    </div> }\n                    { this.props.canHaveOptionValue && this.props.canHaveOptionCorrect &&\n                    <div className=\"col-sm-1\">\n                      <input className=\"form-control\" type=\"checkbox\" value=\"1\" onChange={this.editOptionCorrect.bind(this, index)} checked={option.hasOwnProperty('correct')} />\n                    </div> }\n                    <div className=\"col-sm-3\">\n                      <div className=\"dynamic-options-actions-buttons\">\n                        <button onClick={this.addOption.bind(this, index)} className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i></button>\n                        { index > 0\n                          && <button onClick={this.removeOption.bind(this, index)} className=\"btn btn-danger\"><i className=\"fas fa-minus-circle\"></i></button>\n                        }\n                      </div>\n                    </div>\n                  </div>\n                </li>\n              );\n            })\n          }\n        </ul>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport TextAreaAutosize from 'react-textarea-autosize';\nimport {\n  ContentState, EditorState, convertFromHTML, convertToRaw,\n} from 'draft-js';\nimport draftToHtml from 'draftjs-to-html';\nimport { Editor } from 'react-draft-wysiwyg';\n\nimport DynamicOptionList from './dynamic-option-list';\nimport { get } from './stores/requests';\nimport ID from './UUID';\n\nconst toolbar = {\n  options: ['inline', 'list', 'textAlign', 'fontSize', 'link', 'history'],\n  inline: {\n    inDropdown: false,\n    className: undefined,\n    options: ['bold', 'italic', 'underline', 'superscript', 'subscript'],\n  },\n};\n\nexport default class FormElementsEdit extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      element: this.props.element,\n      data: this.props.data,\n      dirty: false,\n    };\n  }\n\n  toggleRequired() {\n    // const this_element = this.state.element;\n  }\n\n  editElementProp(elemProperty, targProperty, e) {\n    // elemProperty could be content or label\n    // targProperty could be value or checked\n    const this_element = this.state.element;\n    this_element[elemProperty] = e.target[targProperty];\n\n    this.setState({\n      element: this_element,\n      dirty: true,\n    }, () => {\n      if (targProperty === 'checked') { this.updateElement(); }\n    });\n  }\n\n  onEditorStateChange(index, property, editorContent) {\n    // const html = draftToHtml(convertToRaw(editorContent.getCurrentContent())).replace(/<p>/g, '<div>').replace(/<\\/p>/g, '</div>');\n    const html = draftToHtml(convertToRaw(editorContent.getCurrentContent())).replace(/<p>/g, '').replace(/<\\/p>/g, '').replace(/(?:\\r\\n|\\r|\\n)/g, ' ');\n    const this_element = this.state.element;\n    this_element[property] = html;\n\n    this.setState({\n      element: this_element,\n      dirty: true,\n    });\n  }\n\n  updateElement() {\n    const this_element = this.state.element;\n    // to prevent ajax calls with no change\n    if (this.state.dirty) {\n      this.props.updateElement.call(this.props.preview, this_element);\n      this.setState({ dirty: false });\n    }\n  }\n\n  convertFromHTML(content) {\n    const newContent = convertFromHTML(content);\n    if (!newContent.contentBlocks || !newContent.contentBlocks.length) {\n      // to prevent crash when no contents in editor\n      return EditorState.createEmpty();\n    }\n    const contentState = ContentState.createFromBlockArray(newContent);\n    return EditorState.createWithContent(contentState);\n  }\n\n  addOptions() {\n    const optionsApiUrl = document.getElementById('optionsApiUrl').value;\n    if (optionsApiUrl) {\n      get(optionsApiUrl).then(data => {\n        this.props.element.options = [];\n        const { options } = this.props.element;\n        data.forEach(x => {\n          // eslint-disable-next-line no-param-reassign\n          x.key = ID.uuid();\n          options.push(x);\n        });\n        const this_element = this.state.element;\n        this.setState({\n          element: this_element,\n          dirty: true,\n        });\n      });\n    }\n  }\n\n  render() {\n    if (this.state.dirty) {\n      this.props.element.dirty = true;\n    }\n    window.elm_props = this.props;\n    const this_checked = this.props.element.hasOwnProperty('required') ? this.props.element.required : false;\n    const this_read_only = this.props.element.hasOwnProperty('readOnly') ? this.props.element.readOnly : false;\n    const this_default_today = this.props.element.hasOwnProperty('defaultToday') ? this.props.element.defaultToday : false;\n    const this_show_time_select = this.props.element.hasOwnProperty('showTimeSelect') ? this.props.element.showTimeSelect : false;\n    const this_show_time_select_only = this.props.element.hasOwnProperty('showTimeSelectOnly') ? this.props.element.showTimeSelectOnly : false;\n    const this_checked_inline = this.props.element.hasOwnProperty('inline') ? this.props.element.inline : false;\n    const this_checked_bold = this.props.element.hasOwnProperty('bold') ? this.props.element.bold : false;\n    const this_checked_italic = this.props.element.hasOwnProperty('italic') ? this.props.element.italic : false;\n    const this_checked_center = this.props.element.hasOwnProperty('center') ? this.props.element.center : false;\n    const this_checked_page_break = this.props.element.hasOwnProperty('pageBreakBefore') ? this.props.element.pageBreakBefore : false;\n    const this_checked_alternate_form = this.props.element.hasOwnProperty('alternateForm') ? this.props.element.alternateForm : false;\n\n    const {\n      canHavePageBreakBefore, canHaveAlternateForm, canHaveDisplayHorizontal, canHaveOptionCorrect, canHaveOptionValue,\n    } = this.props.element;\n\n    const this_files = this.props.files.length ? this.props.files : [];\n    if (this_files.length < 1 || (this_files.length > 0 && this_files[0].id !== '')) {\n      this_files.unshift({ id: '', file_name: '' });\n    }\n\n    let editorState;\n    if (this.props.element.hasOwnProperty('content')) {\n      editorState = this.convertFromHTML(this.props.element.content);\n    }\n    if (this.props.element.hasOwnProperty('label')) {\n      editorState = this.convertFromHTML(this.props.element.label);\n    }\n\n    return (\n      <div>\n        <div className=\"clearfix\">\n          <h4 className=\"float-left\">{this.props.element.text}</h4>\n          <i className=\"float-right fas fa-times dismiss-edit\" onClick={this.props.manualEditModeOff}></i>\n        </div>\n        { this.props.element.hasOwnProperty('content') &&\n          <div className=\"form-group\">\n            <label className=\"control-label\">Text to display:</label>\n\n            <Editor\n              toolbar={toolbar}\n              defaultEditorState={editorState}\n              onBlur={this.updateElement.bind(this)}\n              onEditorStateChange={this.onEditorStateChange.bind(this, 0, 'content')}\n              stripPastedStyles={true} />\n          </div>\n        }\n        { this.props.element.hasOwnProperty('file_path') &&\n          <div className=\"form-group\">\n            <label className=\"control-label\" htmlFor=\"fileSelect\">Choose file:</label>\n            <select id=\"fileSelect\" className=\"form-control\" defaultValue={this.props.element.file_path} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'file_path', 'value')}>\n              {this_files.map((file) => {\n                const this_key = `file_${file.id}`;\n                return <option value={file.id} key={this_key}>{file.file_name}</option>;\n              })}\n            </select>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('href') &&\n          <div className=\"form-group\">\n            <TextAreaAutosize type=\"text\" className=\"form-control\" defaultValue={this.props.element.href} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'href', 'value')} />\n          </div>\n        }\n        { this.props.element.hasOwnProperty('src') &&\n          <div>\n            <div className=\"form-group\">\n              <label className=\"control-label\" htmlFor=\"srcInput\">Link to:</label>\n              <input id=\"srcInput\" type=\"text\" className=\"form-control\" defaultValue={this.props.element.src} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'src', 'value')} />\n            </div>\n            <div className=\"form-group\">\n              <div className=\"custom-control custom-checkbox\">\n                <input id=\"do-center\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked_center} value={true} onChange={this.editElementProp.bind(this, 'center', 'checked')} />\n                <label className=\"custom-control-label\" htmlFor=\"do-center\">\n                  Center?\n                </label>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-sm-3\">\n                <label className=\"control-label\" htmlFor=\"elementWidth\">Width:</label>\n                <input id=\"elementWidth\" type=\"text\" className=\"form-control\" defaultValue={this.props.element.width} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'width', 'value')} />\n              </div>\n              <div className=\"col-sm-3\">\n                <label className=\"control-label\" htmlFor=\"elementHeight\">Height:</label>\n                <input id=\"elementHeight\" type=\"text\" className=\"form-control\" defaultValue={this.props.element.height} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'height', 'value')} />\n              </div>\n            </div>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('label') &&\n          <div className=\"form-group\">\n            <label>Display Label</label>\n            <Editor\n              toolbar={toolbar}\n              defaultEditorState={editorState}\n              onBlur={this.updateElement.bind(this)}\n              onEditorStateChange={this.onEditorStateChange.bind(this, 0, 'label')}\n              stripPastedStyles={true} />\n            <br />\n            <div className=\"custom-control custom-checkbox\">\n              <input id=\"is-required\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked} value={true} onChange={this.editElementProp.bind(this, 'required', 'checked')} />\n              <label className=\"custom-control-label\" htmlFor=\"is-required\">\n                Required\n              </label>\n            </div>\n            { this.props.element.hasOwnProperty('readOnly') &&\n              <div className=\"custom-control custom-checkbox\">\n                <input id=\"is-read-only\" className=\"custom-control-input\" type=\"checkbox\" checked={this_read_only} value={true} onChange={this.editElementProp.bind(this, 'readOnly', 'checked')} />\n                <label className=\"custom-control-label\" htmlFor=\"is-read-only\">\n                  Read only\n                </label>\n              </div>\n            }\n            { this.props.element.hasOwnProperty('defaultToday') &&\n              <div className=\"custom-control custom-checkbox\">\n                <input id=\"is-default-to-today\" className=\"custom-control-input\" type=\"checkbox\" checked={this_default_today} value={true} onChange={this.editElementProp.bind(this, 'defaultToday', 'checked')} />\n                <label className=\"custom-control-label\" htmlFor=\"is-default-to-today\">\n                  Default to Today?\n                </label>\n              </div>\n            }\n            { this.props.element.hasOwnProperty('showTimeSelect') &&\n              <div className=\"custom-control custom-checkbox\">\n                <input id=\"show-time-select\" className=\"custom-control-input\" type=\"checkbox\" checked={this_show_time_select} value={true} onChange={this.editElementProp.bind(this, 'showTimeSelect', 'checked')} />\n                <label className=\"custom-control-label\" htmlFor=\"show-time-select\">\n                  Show Time Select?\n                </label>\n              </div>\n            }\n            { this_show_time_select && this.props.element.hasOwnProperty('showTimeSelectOnly') &&\n              <div className=\"custom-control custom-checkbox\">\n                <input id=\"show-time-select-only\" className=\"custom-control-input\" type=\"checkbox\" checked={this_show_time_select_only} value={true} onChange={this.editElementProp.bind(this, 'showTimeSelectOnly', 'checked')} />\n                <label className=\"custom-control-label\" htmlFor=\"show-time-select-only\">\n                  Show Time Select Only?\n                </label>\n              </div>\n            }\n            { (this.state.element.element === 'RadioButtons' || this.state.element.element === 'Checkboxes') && canHaveDisplayHorizontal &&\n              <div className=\"custom-control custom-checkbox\">\n                <input id=\"display-horizontal\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked_inline} value={true} onChange={this.editElementProp.bind(this, 'inline', 'checked')} />\n                <label className=\"custom-control-label\" htmlFor=\"display-horizontal\">\n                  Display horizonal\n                </label>\n              </div>\n            }\n          </div>\n        }\n\n        {this.state.element.element === 'Signature' && this.props.element.readOnly\n          ? (\n            <div className=\"form-group\">\n              <label className=\"control-label\" htmlFor=\"variableKey\">Variable Key:</label>\n              <input id=\"variableKey\" type=\"text\" className=\"form-control\" defaultValue={this.props.element.variableKey} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'variableKey', 'value')} />\n              <p className=\"help-block\">This will give the element a key that can be used to replace the content with a runtime value.</p>\n            </div>\n          )\n          : (<div/>)\n        }\n\n        {canHavePageBreakBefore &&\n          <div className=\"form-group\">\n            <label className=\"control-label\">Print Options</label>\n            <div className=\"custom-control custom-checkbox\">\n              <input id=\"page-break-before-element\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked_page_break} value={true} onChange={this.editElementProp.bind(this, 'pageBreakBefore', 'checked')} />\n              <label className=\"custom-control-label\" htmlFor=\"page-break-before-element\">\n                Page Break Before Element?\n              </label>\n            </div>\n          </div>\n        }\n\n        {canHaveAlternateForm &&\n          <div className=\"form-group\">\n            <label className=\"control-label\">Alternate/Signature Page</label>\n            <div className=\"custom-control custom-checkbox\">\n              <input id=\"display-on-alternate\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked_alternate_form} value={true} onChange={this.editElementProp.bind(this, 'alternateForm', 'checked')} />\n              <label className=\"custom-control-label\" htmlFor=\"display-on-alternate\">\n                Display on alternate/signature Page?\n              </label>\n            </div>\n          </div>\n        }\n\n        { this.props.element.hasOwnProperty('step') &&\n          <div className=\"form-group\">\n            <div className=\"form-group-range\">\n              <label className=\"control-label\" htmlFor=\"rangeStep\">Step</label>\n              <input id=\"rangeStep\" type=\"number\" className=\"form-control\" defaultValue={this.props.element.step} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'step', 'value')} />\n            </div>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('min_value') &&\n          <div className=\"form-group\">\n            <div className=\"form-group-range\">\n              <label className=\"control-label\" htmlFor=\"rangeMin\">Min</label>\n              <input id=\"rangeMin\" type=\"number\" className=\"form-control\" defaultValue={this.props.element.min_value} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'min_value', 'value')} />\n              <input type=\"text\" className=\"form-control\" defaultValue={this.props.element.min_label} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'min_label', 'value')} />\n            </div>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('max_value') &&\n          <div className=\"form-group\">\n            <div className=\"form-group-range\">\n              <label className=\"control-label\" htmlFor=\"rangeMax\">Max</label>\n              <input id=\"rangeMax\" type=\"number\" className=\"form-control\" defaultValue={this.props.element.max_value} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'max_value', 'value')} />\n              <input type=\"text\" className=\"form-control\" defaultValue={this.props.element.max_label} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'max_label', 'value')} />\n            </div>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('default_value') &&\n          <div className=\"form-group\">\n            <div className=\"form-group-range\">\n              <label className=\"control-label\" htmlFor=\"defaultSelected\">Default Selected</label>\n              <input id=\"defaultSelected\" type=\"number\" className=\"form-control\" defaultValue={this.props.element.default_value} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'default_value', 'value')} />\n            </div>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('static') && this.props.element.static &&\n          <div className=\"form-group\">\n            <label className=\"control-label\">Text Style</label>\n            <div className=\"custom-control custom-checkbox\">\n              <input id=\"do-bold\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked_bold} value={true} onChange={this.editElementProp.bind(this, 'bold', 'checked')} />\n              <label className=\"custom-control-label\" htmlFor=\"do-bold\">\n                Bold\n              </label>\n            </div>\n            <div className=\"custom-control custom-checkbox\">\n              <input id=\"do-italic\" className=\"custom-control-input\" type=\"checkbox\" checked={this_checked_italic} value={true} onChange={this.editElementProp.bind(this, 'italic', 'checked')} />\n              <label className=\"custom-control-label\" htmlFor=\"do-italic\">\n                Italic\n              </label>\n            </div>\n          </div>\n        }\n        { this.props.element.showDescription &&\n          <div className=\"form-group\">\n            <label className=\"control-label\" htmlFor=\"questionDescription\">Description</label>\n            <TextAreaAutosize type=\"text\" className=\"form-control\" id=\"questionDescription\" defaultValue={this.props.element.description} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'description', 'value')} />\n          </div>\n        }\n        { this.props.showCorrectColumn && this.props.element.canHaveAnswer && !this.props.element.hasOwnProperty('options') &&\n          <div className=\"form-group\">\n            <label className=\"control-label\" htmlFor=\"correctAnswer\">Correct Answer</label>\n            <input id=\"correctAnswer\" type=\"text\" className=\"form-control\" defaultValue={this.props.element.correct} onBlur={this.updateElement.bind(this)} onChange={this.editElementProp.bind(this, 'correct', 'value')} />\n          </div>\n        }\n        { this.props.element.canPopulateFromApi && this.props.element.hasOwnProperty('options') &&\n          <div className=\"form-group\">\n            <label className=\"control-label\" htmlFor=\"optionsApiUrl\">Populate Options from API</label>\n            <div className=\"row\">\n              <div className=\"col-sm-6\">\n                <input className=\"form-control\" style={{ width: '100%' }} type=\"text\" id=\"optionsApiUrl\" placeholder=\"http://localhost:8080/api/optionsdata\" />\n              </div>\n              <div className=\"col-sm-6\">\n                <button onClick={this.addOptions.bind(this)} className=\"btn btn-success\">Populate</button>\n              </div>\n            </div>\n          </div>\n        }\n        { this.props.element.hasOwnProperty('options') &&\n          <DynamicOptionList showCorrectColumn={this.props.showCorrectColumn}\n            canHaveOptionCorrect={canHaveOptionCorrect}\n            canHaveOptionValue={canHaveOptionValue}\n            data={this.props.preview.state.data}\n            updateElement={this.props.updateElement}\n            preview={this.props.preview}\n            element={this.props.element}\n            key={this.props.element.options.length} />\n        }\n      </div>\n    );\n  }\n}\nFormElementsEdit.defaultProps = { className: 'edit-element-fields' };\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PLACE_HOLDER = 'form-place-holder';\r\n\r\nexport default class PlaceHolder extends React.Component {\r\n  render() {\r\n    return (\r\n      this.props.show &&\r\n      <div className={PLACE_HOLDER} >\r\n        <div>{this.props.text}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPlaceHolder.propTypes = {\r\n  text: PropTypes.string,\r\n  show: PropTypes.bool,\r\n};\r\n\r\nPlaceHolder.defaultProps = {\r\n  text: 'Drop a item here....',\r\n  show: false,\r\n};\r\n","/**\n  * <ReactFormBuilder />\n*/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { DndProvider } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport Preview from './preview';\nimport Toolbar from './toolbar';\nimport ReactFormGenerator from './form';\nimport store from './stores/store';\n\nclass ReactFormBuilder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editMode: false,\n      editElement: null,\n    };\n  }\n\n  editModeOn(data, e) {\n    e.preventDefault();\n    e.stopPropagation();\n    if (this.state.editMode) {\n      this.setState({ editMode: !this.state.editMode, editElement: null });\n    } else {\n      this.setState({ editMode: !this.state.editMode, editElement: data });\n    }\n  }\n\n  manualEditModeOff() {\n    if (this.state.editMode) {\n      this.setState({\n        editMode: false,\n        editElement: null,\n      });\n    }\n  }\n\n  render() {\n    const toolbarProps = {\n      showDescription: this.props.show_description,\n    };\n    if (this.props.toolbarItems) { toolbarProps.items = this.props.toolbarItems; }\n    return (\n      <DndProvider backend={HTML5Backend}>\n       <div>\n         {/* <div>\n           <p>\n             It is easy to implement a sortable interface with React DnD. Just make\n             the same component both a drag source and a drop target, and reorder\n             the data in the <code>hover</code> handler.\n           </p>\n           <Container />\n         </div> */}\n         <div className=\"react-form-builder clearfix\">\n           <div>\n             <Preview files={this.props.files}\n                 manualEditModeOff={this.manualEditModeOff.bind(this)}\n                 showCorrectColumn={this.props.showCorrectColumn}\n                 parent={this}\n                 data={this.props.data}\n                 url={this.props.url}\n                 saveUrl={this.props.saveUrl}\n                 onLoad={this.props.onLoad}\n                 onPost={this.props.onPost}\n                 editModeOn={this.editModeOn}\n                 editMode={this.state.editMode}\n                 variables={this.props.variables}\n                 editElement={this.state.editElement} />\n             <Toolbar {...toolbarProps} />\n           </div>\n         </div>\n       </div>\n       </DndProvider>\n    );\n  }\n}\n\nconst FormBuilders = {};\nFormBuilders.ReactFormBuilder = ReactFormBuilder;\nFormBuilders.ReactFormGenerator = ReactFormGenerator;\nFormBuilders.ElementStore = store;\n\nexport default FormBuilders;\n\nexport { ReactFormBuilder, ReactFormGenerator, store as ElementStore };\n","/**\n  * <Preview />\n  */\n\nimport React from 'react';\nimport update from 'immutability-helper';\nimport store from './stores/store';\nimport FormElementsEdit from './form-elements-edit';\nimport SortableFormElements from './sortable-form-elements';\n\nconst { PlaceHolder } = SortableFormElements;\n\nexport default class Preview extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const { onLoad, onPost } = props;\n    store.setExternalHandler(onLoad, onPost);\n\n    this.editForm = React.createRef();\n    this.state = {\n      data: [],\n      answer_data: {},\n    };\n    this.seq = 0;\n\n    const onUpdate = this._onChange.bind(this);\n    store.subscribe(state => onUpdate(state.data));\n\n    this.moveCard = this.moveCard.bind(this);\n    this.insertCard = this.insertCard.bind(this);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.data && props.data !== state.data) {\n      store.dispatch('updateOrder', props.data);\n    }\n    return null;\n  }\n\n  componentDidMount() {\n    const { data, url, saveUrl } = this.props;\n    store.dispatch('load', { loadUrl: url, saveUrl, data: data || [] });\n    document.addEventListener('mousedown', this.editModeOff);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.editModeOff);\n  }\n\n  editModeOff = (e) => {\n    if (this.editForm.current && !this.editForm.current.contains(e.target)) {\n      this.manualEditModeOff();\n    }\n  }\n\n  manualEditModeOff = () => {\n    const { editElement } = this.props;\n    if (editElement && editElement.dirty) {\n      editElement.dirty = false;\n      this.updateElement(editElement);\n    }\n    this.props.manualEditModeOff();\n  }\n\n  _setValue(text) {\n    return text.replace(/[^A-Z0-9]+/ig, '_').toLowerCase();\n  }\n\n  updateElement(element) {\n    const { data } = this.state;\n    let found = false;\n\n    for (let i = 0, len = data.length; i < len; i++) {\n      if (element.id === data[i].id) {\n        data[i] = element;\n        found = true;\n        break;\n      }\n    }\n\n    if (found) {\n      this.seq = this.seq > 100000 ? 0 : this.seq + 1;\n      store.dispatch('updateOrder', data);\n    }\n  }\n\n  _onChange(data) {\n    const answer_data = {};\n\n    data.forEach((item) => {\n      if (item && item.readOnly && this.props.variables[item.variableKey]) {\n        answer_data[item.field_name] = this.props.variables[item.variableKey];\n      }\n    });\n\n    this.setState({\n      data,\n      answer_data,\n    });\n  }\n\n  _onDestroy(item) {\n    store.dispatch('delete', item);\n  }\n\n  insertCard(item, hoverIndex) {\n    const { data } = this.state;\n    data.splice(hoverIndex, 0, item);\n    this.saveData(item, hoverIndex, hoverIndex);\n  }\n\n  moveCard(dragIndex, hoverIndex) {\n    const { data } = this.state;\n    const dragCard = data[dragIndex];\n    this.saveData(dragCard, dragIndex, hoverIndex);\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  cardPlaceHolder(dragIndex, hoverIndex) {\n    // Dummy\n  }\n\n  saveData(dragCard, dragIndex, hoverIndex) {\n    const newData = update(this.state, {\n      data: {\n        $splice: [[dragIndex, 1], [hoverIndex, 0, dragCard]],\n      },\n    });\n    this.setState(newData);\n    store.dispatch('updateOrder', newData.data);\n  }\n\n  getElement(item, index) {\n    const SortableFormElement = SortableFormElements[item.element];\n    return <SortableFormElement id={item.id} seq={this.seq} index={index} moveCard={this.moveCard} insertCard={this.insertCard} mutable={false} parent={this.props.parent} editModeOn={this.props.editModeOn} isDraggable={true} key={item.id} sortData={item.id} data={item} _onDestroy={this._onDestroy} />;\n  }\n\n  render() {\n    let classes = this.props.className;\n    if (this.props.editMode) { classes += ' is-editing'; }\n    const data = this.state.data.filter(x => !!x);\n    const items = data.map((item, index) => this.getElement(item, index));\n    return (\n      <div className={classes}>\n        <div className=\"edit-form\" ref={this.editForm}>\n          { this.props.editElement !== null &&\n            <FormElementsEdit showCorrectColumn={this.props.showCorrectColumn} files={this.props.files} manualEditModeOff={this.manualEditModeOff} preview={this} element={this.props.editElement} updateElement={this.updateElement} />\n          }\n        </div>\n        <div className=\"Sortable\">{items}</div>\n         <PlaceHolder id=\"form-place-holder\" show={items.length === 0} index={items.length} moveCard={this.cardPlaceHolder} insertCard={this.insertCard}/>\n      </div>\n    );\n  }\n}\nPreview.defaultProps = {\n  showCorrectColumn: false, files: [], editMode: false, editElement: null, className: 'react-form-builder-preview float-left',\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport { DragSource, DropTarget } from 'react-dnd';\nimport ItemTypes from './ItemTypes';\n\nconst style = {\n  border: '1px dashed gray',\n  padding: '0.5rem 1rem',\n  marginBottom: '.5rem',\n  backgroundColor: 'white',\n  cursor: 'move',\n};\n\nconst cardSource = {\n  beginDrag(props) {\n    return {\n      id: props.id,\n      index: props.index,\n    };\n  },\n};\n\nconst cardTarget = {\n  hover(props, monitor, component) {\n    const item = monitor.getItem();\n    const dragIndex = item.index;\n    const hoverIndex = props.index;\n\n    // Don't replace items with themselves\n    if (dragIndex === hoverIndex) {\n      return;\n    } if (dragIndex === -1) {\n      item.index = hoverIndex;\n      props.insertCard(item.onCreate(item.data), hoverIndex);\n    }\n\n    // Determine rectangle on screen\n    const hoverBoundingRect = findDOMNode(component).getBoundingClientRect();\n\n    // Get vertical middle\n    const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n\n    // Determine mouse position\n    const clientOffset = monitor.getClientOffset();\n\n    // Get pixels to the top\n    const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n\n    // Only perform the move when the mouse has crossed half of the items height\n    // When dragging downwards, only move when the cursor is below 50%\n    // When dragging upwards, only move when the cursor is above 50%\n\n    // Dragging downwards\n    if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n      return;\n    }\n\n    // Dragging upwards\n    if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n      return;\n    }\n\n    // Time to actually perform the action\n    props.moveCard(dragIndex, hoverIndex);\n\n    // Note: we're mutating the monitor item here!\n    // Generally it's better to avoid mutations,\n    // but it's good here for the sake of performance\n    // to avoid expensive index searches.\n    item.index = hoverIndex;\n  },\n};\n\n// eslint-disable-next-line no-unused-vars\nexport default function (ComposedComponent) {\n  class Card extends Component {\n    static propTypes = {\n      connectDragSource: PropTypes.func,\n      connectDropTarget: PropTypes.func,\n      index: PropTypes.number.isRequired,\n      isDragging: PropTypes.bool,\n      id: PropTypes.any.isRequired,\n      // text: PropTypes.string.isRequired,\n      moveCard: PropTypes.func.isRequired,\n      seq: PropTypes.number,\n    }\n\n    static defaultProps = {\n      seq: -1,\n    };\n\n    render() {\n      const {\n        isDragging,\n        connectDragSource,\n        connectDropTarget,\n      } = this.props;\n      const opacity = isDragging ? 0 : 1;\n\n      return connectDragSource(\n        connectDropTarget(<div><ComposedComponent {...this.props} style={{ ...style, opacity }}></ComposedComponent></div>),\n      );\n    }\n  }\n\n  const x = DropTarget(ItemTypes.CARD, cardTarget, connect => ({\n    connectDropTarget: connect.dropTarget(),\n  }))(Card);\n  return DragSource(ItemTypes.CARD, cardSource, (connect, monitor) => ({\n    connectDragSource: connect.dragSource(),\n    isDragging: monitor.isDragging(),\n  }))(x);\n}\n","import SortableElement from './sortable-element';\nimport PlaceHolder from './form-place-holder';\nimport BaseFormElements from './form-elements';\n\nconst {\n  Header, Paragraph, Label, LineBreak, TextInput, NumberInput, TextArea, Dropdown, Checkboxes,\n  DatePicker, RadioButtons, Image, Rating, Tags, Signature, HyperLink, Download, Camera, Range,\n} = BaseFormElements;\n\nconst FormElements = {};\n\nFormElements.Header = SortableElement(Header);\nFormElements.Paragraph = SortableElement(Paragraph);\nFormElements.Label = SortableElement(Label);\nFormElements.LineBreak = SortableElement(LineBreak);\nFormElements.TextInput = SortableElement(TextInput);\nFormElements.NumberInput = SortableElement(NumberInput);\nFormElements.TextArea = SortableElement(TextArea);\nFormElements.Dropdown = SortableElement(Dropdown);\nFormElements.Signature = SortableElement(Signature);\nFormElements.Checkboxes = SortableElement(Checkboxes);\nFormElements.DatePicker = SortableElement(DatePicker);\nFormElements.RadioButtons = SortableElement(RadioButtons);\nFormElements.Image = SortableElement(Image);\nFormElements.Rating = SortableElement(Rating);\nFormElements.Tags = SortableElement(Tags);\nFormElements.HyperLink = SortableElement(HyperLink);\nFormElements.Download = SortableElement(Download);\nFormElements.Camera = SortableElement(Camera);\nFormElements.Range = SortableElement(Range);\nFormElements.PlaceHolder = SortableElement(PlaceHolder);\n\nexport default FormElements;\n","/**\n  * <ToolbarItem />\n  */\n\nimport React from 'react';\nimport { DragSource } from 'react-dnd';\nimport ItemTypes from './ItemTypes';\nimport ID from './UUID';\n\nconst cardSource = {\n  beginDrag(props) {\n    return {\n      id: ID.uuid(),\n      index: -1,\n      data: props.data,\n      onCreate: props.onCreate,\n    };\n  },\n};\n\nclass ToolbarItem extends React.Component {\n  render() {\n    const { connectDragSource, data, onClick } = this.props;\n    if (!connectDragSource) return null;\n    return (\n      connectDragSource(\n        <li onClick={onClick}><i className={data.icon}></i>{data.name}</li>,\n      )\n    );\n  }\n}\n\nexport default DragSource(ItemTypes.CARD, cardSource, connect => ({\n  connectDragSource: connect.dragSource(),\n}))(ToolbarItem);\n","/**\n  * <Toolbar />\n  */\n\nimport React from 'react';\nimport ToolbarItem from './toolbar-draggable-item';\nimport ID from './UUID';\nimport store from './stores/store';\n\nexport default class Toolbar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const items = (this.props.items) ? this.props.items : this._defaultItems();\n    this.state = {\n      items,\n    };\n    store.subscribe(state => this.setState({ store: state }));\n    this.create = this.create.bind(this);\n  }\n\n  static _defaultItemOptions(element) {\n    switch (element) {\n      case 'Dropdown':\n        return [\n          { value: 'place_holder_option_1', text: 'Place holder option 1', key: `dropdown_option_${ID.uuid()}` },\n          { value: 'place_holder_option_2', text: 'Place holder option 2', key: `dropdown_option_${ID.uuid()}` },\n          { value: 'place_holder_option_3', text: 'Place holder option 3', key: `dropdown_option_${ID.uuid()}` },\n        ];\n      case 'Tags':\n        return [\n          { value: 'place_holder_tag_1', text: 'Place holder tag 1', key: `tags_option_${ID.uuid()}` },\n          { value: 'place_holder_tag_2', text: 'Place holder tag 2', key: `tags_option_${ID.uuid()}` },\n          { value: 'place_holder_tag_3', text: 'Place holder tag 3', key: `tags_option_${ID.uuid()}` },\n        ];\n      case 'Checkboxes':\n        return [\n          { value: 'place_holder_option_1', text: 'Place holder option 1', key: `checkboxes_option_${ID.uuid()}` },\n          { value: 'place_holder_option_2', text: 'Place holder option 2', key: `checkboxes_option_${ID.uuid()}` },\n          { value: 'place_holder_option_3', text: 'Place holder option 3', key: `checkboxes_option_${ID.uuid()}` },\n        ];\n      case 'RadioButtons':\n        return [\n          { value: 'place_holder_option_1', text: 'Place holder option 1', key: `radiobuttons_option_${ID.uuid()}` },\n          { value: 'place_holder_option_2', text: 'Place holder option 2', key: `radiobuttons_option_${ID.uuid()}` },\n          { value: 'place_holder_option_3', text: 'Place holder option 3', key: `radiobuttons_option_${ID.uuid()}` },\n        ];\n      default:\n        return [];\n    }\n  }\n\n  _defaultItems() {\n    return [\n      {\n        key: 'Header',\n        name: 'Header Text',\n        icon: 'fas fa-heading',\n        static: true,\n        content: 'Placeholder Text...',\n      },\n      {\n        key: 'Label',\n        name: 'Label',\n        static: true,\n        icon: 'fas fa-font',\n        content: 'Placeholder Text...',\n      },\n      {\n        key: 'Paragraph',\n        name: 'Paragraph',\n        static: true,\n        icon: 'fas fa-paragraph',\n        content: 'Placeholder Text...',\n      },\n      {\n        key: 'LineBreak',\n        name: 'Line Break',\n        static: true,\n        icon: 'fas fa-arrows-alt-h',\n      },\n      {\n        key: 'Dropdown',\n        canHaveAnswer: true,\n        name: 'Dropdown',\n        icon: 'far fa-caret-square-down',\n        label: 'Placeholder Label',\n        field_name: 'dropdown_',\n        options: [],\n      },\n      {\n        key: 'Tags',\n        canHaveAnswer: true,\n        name: 'Tags',\n        icon: 'fas fa-tags',\n        label: 'Placeholder Label',\n        field_name: 'tags_',\n        options: [],\n      },\n      {\n        key: 'Checkboxes',\n        canHaveAnswer: true,\n        name: 'Checkboxes',\n        icon: 'far fa-check-square',\n        label: 'Placeholder Label',\n        field_name: 'checkboxes_',\n        options: [],\n      },\n      {\n        key: 'RadioButtons',\n        canHaveAnswer: true,\n        name: 'Multiple Choice',\n        icon: 'far fa-dot-circle',\n        label: 'Placeholder Label',\n        field_name: 'radiobuttons_',\n        options: [],\n      },\n      {\n        key: 'TextInput',\n        canHaveAnswer: true,\n        name: 'Text Input',\n        label: 'Placeholder Label',\n        icon: 'fas fa-font',\n        field_name: 'text_input_',\n      },\n      {\n        key: 'NumberInput',\n        canHaveAnswer: true,\n        name: 'Number Input',\n        label: 'Placeholder Label',\n        icon: 'fas fa-plus',\n        field_name: 'number_input_',\n      },\n      {\n        key: 'TextArea',\n        canHaveAnswer: true,\n        name: 'Multi-line Input',\n        label: 'Placeholder Label',\n        icon: 'fas fa-text-height',\n        field_name: 'text_area_',\n      },\n      {\n        key: 'Image',\n        name: 'Image',\n        label: '',\n        icon: 'far fa-image',\n        field_name: 'image_',\n        src: '',\n      },\n      {\n        key: 'Rating',\n        canHaveAnswer: true,\n        name: 'Rating',\n        label: 'Placeholder Label',\n        icon: 'fas fa-star',\n        field_name: 'rating_',\n      },\n      {\n        key: 'DatePicker',\n        canDefaultToday: true,\n        canReadOnly: true,\n        dateFormat: 'MM/dd/yyyy',\n        timeFormat: 'hh:mm aa',\n        showTimeSelect: false,\n        showTimeSelectOnly: false,\n        name: 'Date',\n        icon: 'far fa-calendar-alt',\n        label: 'Placeholder Label',\n        field_name: 'date_picker_',\n      },\n      {\n        key: 'Signature',\n        canReadOnly: true,\n        name: 'Signature',\n        icon: 'fas fa-pen-square',\n        label: 'Signature',\n        field_name: 'signature_',\n      },\n      {\n        key: 'HyperLink',\n        name: 'Web site',\n        icon: 'fas fa-link',\n        static: true,\n        content: 'Placeholder Web site link ...',\n        href: 'http://www.example.com',\n      },\n      {\n        key: 'Download',\n        name: 'File Attachment',\n        icon: 'fas fa-file',\n        static: true,\n        content: 'Placeholder file name ...',\n        field_name: 'download_',\n        file_path: '',\n        _href: '',\n      },\n      {\n        key: 'Range',\n        name: 'Range',\n        icon: 'fas fa-sliders-h',\n        label: 'Placeholder Label',\n        field_name: 'range_',\n        step: 1,\n        default_value: 3,\n        min_value: 1,\n        max_value: 5,\n        min_label: 'Easy',\n        max_label: 'Difficult',\n      },\n      {\n        key: 'Camera',\n        name: 'Camera',\n        icon: 'fas fa-camera',\n        label: 'Placeholder Label',\n        field_name: 'camera_',\n      },\n    ];\n  }\n\n  create(item) {\n    const elementOptions = {\n      id: ID.uuid(),\n      element: item.element || item.key,\n      text: item.name,\n      static: item.static,\n      required: false,\n      showDescription: item.showDescription,\n    };\n\n    if (this.props.showDescription === true && !item.static) {\n      elementOptions.showDescription = true;\n    }\n\n    if (item.static) {\n      elementOptions.bold = false;\n      elementOptions.italic = false;\n    }\n\n    if (item.canHaveAnswer) { elementOptions.canHaveAnswer = item.canHaveAnswer; }\n\n    if (item.canReadOnly) { elementOptions.readOnly = false; }\n\n    if (item.canDefaultToday) { elementOptions.defaultToday = false; }\n\n    if (item.content) { elementOptions.content = item.content; }\n\n    if (item.href) { elementOptions.href = item.href; }\n\n    elementOptions.canHavePageBreakBefore = item.canHavePageBreakBefore !== false;\n    elementOptions.canHaveAlternateForm = item.canHaveAlternateForm !== false;\n    elementOptions.canHaveDisplayHorizontal = item.canHaveDisplayHorizontal !== false;\n    if (elementOptions.canHaveDisplayHorizontal) {\n      elementOptions.inline = item.inline;\n    }\n    elementOptions.canHaveOptionCorrect = item.canHaveOptionCorrect !== false;\n    elementOptions.canHaveOptionValue = item.canHaveOptionValue !== false;\n    elementOptions.canPopulateFromApi = item.canPopulateFromApi !== false;\n\n    if (item.key === 'Image') {\n      elementOptions.src = item.src;\n    }\n\n    if (item.key === 'DatePicker') {\n      elementOptions.dateFormat = item.dateFormat;\n      elementOptions.timeFormat = item.timeFormat;\n      elementOptions.showTimeSelect = item.showTimeSelect;\n      elementOptions.showTimeSelectOnly = item.showTimeSelectOnly;\n    }\n\n    if (item.key === 'Download') {\n      elementOptions._href = item._href;\n      elementOptions.file_path = item.file_path;\n    }\n\n    if (item.key === 'Range') {\n      elementOptions.step = item.step;\n      elementOptions.default_value = item.default_value;\n      elementOptions.min_value = item.min_value;\n      elementOptions.max_value = item.max_value;\n      elementOptions.min_label = item.min_label;\n      elementOptions.max_label = item.max_label;\n    }\n\n    if (item.defaultValue) { elementOptions.defaultValue = item.defaultValue; }\n\n    if (item.field_name) { elementOptions.field_name = item.field_name + ID.uuid(); }\n\n    if (item.label) { elementOptions.label = item.label; }\n\n    if (item.options) {\n      if (item.options.length > 0) {\n        elementOptions.options = item.options;\n      } else {\n        elementOptions.options = Toolbar._defaultItemOptions(elementOptions.element);\n      }\n    }\n\n    return elementOptions;\n  }\n\n  _onClick(item) {\n    // ElementActions.createElement(this.create(item));\n    store.dispatch('create', this.create(item));\n  }\n\n  render() {\n    return (\n      <div className=\"react-form-builder-toolbar float-right\">\n        <h4>Toolbox</h4>\n        <ul>\n          {\n            this.state.items.map((item) => (<ToolbarItem data={item} key={item.key} onClick={this._onClick.bind(this, item)} onCreate={this.create} />))\n          }\n        </ul>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}